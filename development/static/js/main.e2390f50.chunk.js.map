{"version":3,"sources":["Utils/VisibilityListener.js","Components/ActionButton.js","Components/CommandDisplay.js","Components/CommandGroup.js","Components/EditableSetting.js","Components/SettingsGroup.js","DeviceTypes/TasmotaDevice.js","Utils/CopyToClipboard.js","Components/DeviceList.js","Components/DisplayModeButtons.js","Screens/Devices.js","DeviceTypes/TasmotaDeviceConnector.js","Configuration/TasmotaConfig-6.7.0.0.js","Configuration/TasmotaConfig-7.1.2.0.js","Configuration/TasmotaVersionedConfig.js","DeviceManagement/DeviceManager.js","Screens/DeviceDetails.js","Screens/DeviceSettings.js","Screens/FindDevices.js","Screens/Console.js","Configuration/AppConfig.js","App.js","index.js"],"names":["hidden","visibilityChange","ActionButton","display","this","props","icon","selected","selectedIcon","Tooltip","title","toolTip","style","visibility","IconButton","aria-label","label","onClick","event","onButtonClick","React","Component","CommandDisplay","commandSent","commandOptions","command","options","concat","unshift","description","type","defaultInputSelection","defaultOption","commandName","endsWith","indexed","inputRange","range","indexRange","split","i","push","state","commandIndex","selectedOption","valueToSend","commandToSend","generateCommand","logsOutput","currentSelectedInputRangeValue","currentSelectedCommand","generateCurrentCommand","deviceConnector","connect","disconnect","cmnd","success","response","log","JSON","stringify","addLog","stopPropagation","setState","newLog","Date","toLocaleTimeString","trim","performCommandOnDevice","sendCommandInternal","target","value","option","rangeValue","replace","arg","slashIndex","indexOf","substring","Box","flexDirection","flexGrow","paddingTop","width","height","px","List","dense","map","ListItem","key","role","undefined","button","onInputRangeItemSelected","ListItemIcon","Radio","checked","name","inputProps","ListItemText","id","primary","onOptionItemSelected","isCurrentSelectedOption","secondary","shouldShowValueInput","noValidate","autoComplete","TextField","rows","multiline","required","onChange","onValueInputChanged","margin","variant","onCommandInputChanged","Typography","TextareaAutosize","rowsMax","disabled","onClearLog","window","open","toLowerCase","ExpansionPanel","TransitionProps","unmountOnExit","mountOnEnter","ExpansionPanelSummary","expandIcon","aria-controls","alignItems","flexBasis","openHelp","alignSelf","color","ExpansionPanelDetails","flexWrap","whiteSpace","renderCommandDetails","Divider","ExpansionPanelActions","Button","size","sendCommand","CommandGroup","commandGroupName","groupType","Object","entries","commandGroup","sort","EditableSetting","enableEdit","currentValue","settingUpdatedCallback","classes","flexShrink","justifyContent","InputProps","disabledInput","Fragment","save","withStyles","theme","palette","text","SettingsGroup","pros","getCurrentSettings","isExpanded","settingsGroup","settings","forEach","setting","index","performCommandOnDeviceDirect","defaultStates","settingsStates","commandResponses","console","newState","assign","keys","toUpperCase","handleSettingsChanged","slice","groupName","renderSettingInputs","saveSettings","document","msHidden","webkitHidden","onWindowVisibilityChangedCallbacks","addEventListener","callback","addVisibilityChangeCallback","onWindowVisibilityChanged","removeVisibilityChangeCallback","splice","onButtonTheme","createMuiTheme","blue","powerRegex","RegExp","dimmerRegex","DimmerSlider","root","paddingBottom","paddingLeft","paddingRight","thumb","backgroundColor","border","marginTop","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","templateGPIOIndex","templateFlagOptions","TasmotaDevice","deviceConfig","getPanelCommandData","macAddress","deviceInfo","dimmerAnchors","online","currentTemplate","visible","resume","pause","nextProps","deviceManager","getDeviceConnector","getDevice","status0Response","StatusNET","IPAddress","getTasmotaConfig","templateResponse","VisibilityListener","bind","updatedInfo","updateDevice","updateDeviceInfoState","startsWith","gpio255Response","gpiosResponse","modulesResponse","Module","status0Clone","status","param","StatusSNS","moduleResponse","wifiPowerResponse","dimmer","newValue","moduleResponseFormatter","Status","TableRow","TableCell","component","scope","fontSize","FriendlyName","actionButtons","renderConnectivityStatus","getModuleDisplayText","flex","renderDetailsControlsButtons","renderDetailsControlsDimmers","StatusSTS","Wifi","RSSI","Uptime","MqttCount","LinkCount","Downtime","StatusFWR","Version","Core","StatusPRM","BootCount","RestartReason","LoadAvg","Sleep","WifiPower","BSSId","Hostname","Mac","Gateway","SSId","Channel","Topic","GroupTopic","StatusMQT","MqttHost","MqttPort","MqttClient","SDK","StatusMEM","ProgramSize","Free","OtaUrl","src","padding","buttons","filter","test","ThemeProvider","powerToggle","newAnchors","dimmers","openDimmerPopover","Popover","Boolean","anchorEl","onClose","dimmerPopoverClosed","anchorOrigin","vertical","horizontal","transformOrigin","defaultValue","aria-labelledby","valueLabelDisplay","step","min","max","onChangeCommitted","dimmerUpdate","cmndData","Table","TableHead","TableBody","align","bytesString","bitArray","digitValue","char","n","reverse","renderDetailsSetOptionsListItems","setOption","StatusLOG","SetOption","setOptionStr","valueArray","convertHexStringToBitArray","setOptionsStatusMaps","items","item","itemIndex","soValue","setOptionStart","ListItemSecondaryAction","Checkbox","edge","changeSetOption","availableGPIOs","gpioNum","gpioName","gpio","length","Array","isArray","toString","gpioindex","newTemplate","GPIO","oldName","newName","NAME","FLAG","BASE","availableModules","moduleNum","moduleName","onTemplateNameUpdated","FormControl","Select","labelId","onTemplateGPIOChanged","getAvailableGPIOS","availableGPIO","MenuItem","onTemplateFlagChanged","templateFlag","onTemplateBaseChanged","getAvailableModules","mod","isTemplateRenderable","renderTemplateResponse","CircularProgress","resetTemplate","saveTemplate","gpioResponseFormatter","gpioObj","gpioInfo","renderGPIOResponse","settingsGroups","colSpan","renderDetailsSetOptions","configuration","commands","renderDetailsConnectivity","renderDetailsGPIO","renderDetailsTemplate","el","createElement","setAttribute","position","body","appendChild","select","execCommand","removeChild","copyToClipboard","renderDetailsStatuses","renderType","justifyItems","Paper","renderDetailsImage","onFriendlyNameUpdatedCallback","renderTypeDetails","renderTypeSettings","renderTypeList","renderTypeSettingsAndDetails","renderTypeTableStatusRow","renderTypeTableHealthRow","renderTypeTableWifiRow","renderTypeTableMqttRow","renderTypeTableFirmwareRow","imageContainer","spacing","detailsContainer","DeviceList","displayMode","renderTypeTable","renderTypeCard","devices","mac","renderButton","openDeviceDetails","deleteDevice","renderTableHeaderStatus","renderTableHeaderHealth","renderTableHeaderWifi","renderTableHeaderMqtt","renderTableHeaderFirmware","stickyHeader","deviceSections","section","renderTableHeader","itemButtons","renderItems","DisplayModeButtons","Devices","openDeviceSettings","openDeviceConsole","openWebUI","history","ip","removeDevice","newDevices","getDevices","appConfig","getAppConfig","prevProps","prevState","snapshot","putAppConfig","gtag","overflow","TasmotaDeviceConnector","ipAddress","authInfo","deviceIPAddress","deviceListeners","timer","requestDeviceStatus","listener","clearInterval","setInterval","getStatus0","getState","args","url","deviceListener","onCommandResponse","getStatus8","getModule","getWifiPower","encodeURIComponent","username","password","superagent","get","timeout","deadline","end","err","error","TasmotaConfig_06070000","structName","bitSize","gpioResponse","Commands","ButtonDebounce","Control","ButtonRetain","MQTT","SetOption11","SetOptions","SetOption13","SetOption32","SetOption40","SetOption61","Switch","SwitchDebounce","SwitchRetain","Relay","BlinkCount","BlinkTime","PowerOnState","PowerRetain","Interlock","SetOption0","SetOption26","SetOption63","TasmotaConfig_07010200","commandType","SetOption77","WiFi","CORS","updatedConfig","TasmotaVersionedConfig","getConfigurationForVersion","version","versions","closestVersion","maximumVersion","availableVersion","parseInt","substr","DeviceManager","deviceConnectors","localStorage","parse","getItem","discoveredDevices","oldInfo","saveDevices","versionStr","versionNumbers","setItem","updateDeviceConnector","deviceMac","updateIpAddress","disconnectAll","DeviceDetails","match","params","FindDevices","ipsToScan","ipsRequested","handleIPFromChange","ipFrom","nets","to","ipTo","calculateTotalIPs","handleIPToChange","addDevice","getDiscoveredDevices","commonButtons","knownDeviceButtons","newDeviceButtons","totalAddresses","numIpsRequested","numIpsCompleted","searching","enableAuth","enableCorsAutomatically","from","Address4","bigInteger","addDiscoveredDevice","WARNING","enqueueSnackbar","scanIps","shift","enableCorsAndSendRequest","sendRequest","location","protocol","hostname","port","res","setTimeout","obj","ipNum","fromBigInteger","correctForm","discoveredDevicesMacs","isDeviceKnown","reduce","knownDevices","placeholder","handleStopClicked","handleFindClicked","FormControlLabel","control","onEnableCorsAutomaticallyChanged","labelPlacement","onAuthEnableChanged","LinearProgress","valueBuffer","withSnackbar","Console","deviceName","webLogEnabled","weblogLevel","terminal","createRef","commandFired","WebLog","current","terminalInput","processCommand","line","rootNode","terminalRoot","scrolledUp","scrollTop","scrollHeight","clientHeight","pushToStdout","scrollToBottom","fireCommand","startWebLog","stopWebLog","nextCommanNumber","encodeURI","data","lines","lastIndexOf","usage","fn","generateCommands","requestLog","string","p1","p2","offset","weblogEnabled","onWegLogEnableChanged","clearStdout","sendConsoleCommand","InputLabel","onWebLogLevelChanged","className","ref","welcomeMessage","promptLabel","toCamelCase","AppConfig","appSessionConfig","sessionStorage","saveSessionConfig","saveAppConfig","mainMenuItems","link","App","children","child","nested","listItems","renderChildItems","CssBaseline","AppBar","appBar","Toolbar","noWrap","Drawer","drawer","paper","drawerPaper","anchor","toolbar","process","REACT_APP_GIT_SHA","REACT_APP_GIT_BRANCH","content","exact","path","render","DeviceSettings","marginBottom","main","mixins","background","default","ReactDOM","maxSnack","getElementById"],"mappings":"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Cd,CACCqE,KAAM,sBACNrE,YAAa,kCACd,CACCqE,KAAM,yBACNrE,YAAa,IACd,CACCqE,KAAM,qBACNrE,YAAa,0BACd,CACCqE,KAAM,qBACNrE,YAAa,0BACd,CACCqE,KAAM,aACNrE,YAAa,uCACd,CACCqE,KAAM,eACNrE,YAAa,+BAGtB,CACCoe,WAAY,eACZtJ,eAAgB,GAChBuJ,QAAS,EACT3J,MAAO,IACR,CACC0J,WAAY,eACZtJ,eAAgB,GAChBuJ,QAAS,EACT3J,MAAO,CACH,CACIrQ,KAAM,gBACNrE,YAAa,IACd,CACCqE,KAAM,sBACNrE,YAAa,6BACd,CACCqE,KAAM,uBACNrE,YAAa,gCACd,CACCqE,KAAM,kBACNrE,YAAa,iDACd,CACCqE,KAAM,iBACNrE,YAAa,6CACd,CACCqE,KAAM,eACNrE,YAAa,wBACd,CACCqE,KAAM,gBACNrE,YAAa,mDACd,CACCqE,KAAM,kBACNrE,YAAa,yDACd,CACCqE,KAAM,cACNrE,YAAa,mCACd,CACCqE,KAAM,qBACNrE,YAAa,8DACd,CACCqE,KAAM,eACNrE,YAAa,gDACd,CACCqE,KAAM,4BACNrE,YAAa,yDACd,CACCqE,KAAM,iBACNrE,YAAa,0CACd,CACCqE,KAAM,oBACNrE,YAAa,2CACd,CACCqE,KAAM,iBACNrE,YAAa,uDACd,CACCqE,KAAM,2BACNrE,YAAa,uDACd,CACCqE,KAAM,2BACNrE,YAAa,0CACd,CACCqE,KAAM,gBACNrE,YAAa,gCACd,CACCqE,KAAM,qBACNrE,YAAa,kDACd,CACCqE,KAAM,2BACNrE,YAAa,IACd,CACCqE,KAAM,iBACNrE,YAAa,IACd,CACCqE,KAAM,gBACNrE,YAAa,uDACd,CACCqE,KAAM,wBACNrE,YAAa,+DACd,CACCqE,KAAM,eACNrE,YAAa,oBACd,CACCqE,KAAM,0BACNrE,YAAa,oDACd,CACCqE,KAAM,kBACNrE,YAAa,qEACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,eACNrE,YAAa,0BACd,CACCqE,KAAM,yBACNrE,YAAa,yCAGtB,CACCoe,WAAY,eACZtJ,eAAgB,GAChBuJ,QAAS,EACT3J,MAAO,CACH,CACIrQ,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,IACd,CACCqE,KAAM,UACNrE,YAAa,OAIzB4X,eAAgB,CAAC,CACb5N,UAAW,gBACXf,SAAU,CAAC,CACP5E,KAAM,YACNzE,QAAS,YACV,CACCyE,KAAM,YACNzE,QAAS,YACV,CACCyE,KAAM,gBACNzE,QAAS,kBAEd,CACCoK,UAAW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","file":"static/js/main.e2390f50.chunk.js","sourcesContent":["/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nvar hidden, visibilityChange;\nif (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support \n    hidden = \"hidden\";\n    visibilityChange = \"visibilitychange\";\n} else if (typeof document.msHidden !== \"undefined\") {\n    hidden = \"msHidden\";\n    visibilityChange = \"msvisibilitychange\";\n} else if (typeof document.webkitHidden !== \"undefined\") {\n    hidden = \"webkitHidden\";\n    visibilityChange = \"webkitvisibilitychange\";\n}\n\nvar onWindowVisibilityChangedCallbacks = [];\n\nfunction addVisibilityChangeCallback(onWindowVisibilityChanged) {\n    var index = onWindowVisibilityChangedCallbacks.indexOf(onWindowVisibilityChanged);\n    if (index === -1) {\n        onWindowVisibilityChangedCallbacks.push(onWindowVisibilityChanged);\n    }\n}\n\nfunction removeVisibilityChangeCallback(onWindowVisibilityChanged) {\n    var index = onWindowVisibilityChangedCallbacks.indexOf(onWindowVisibilityChanged);\n    if (index !== -1) {\n        onWindowVisibilityChangedCallbacks.splice(index, 1);\n    }\n}\n\nfunction handleVisibilityChange() {\n    for (let callback of onWindowVisibilityChangedCallbacks) {\n        callback(!document[hidden]);\n    }\n}\n\n// Warn if the browser doesn't support addEventListener or the Page Visibility API\nif (typeof document.addEventListener === \"undefined\" || hidden === undefined) {\n    console.log(\"This requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.\");\n} else {\n    // Handle page visibility change   \n    document.addEventListener(visibilityChange, handleVisibilityChange, false);\n}\n\nexport default { addVisibilityChangeCallback, removeVisibilityChangeCallback };","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n\nclass ActionButton extends React.Component {\n\n    render() {\n        let display = this.props.icon\n        if (this.props.selected) {\n            display = this.props.selectedIcon\n        }\n\n        return (\n            <Tooltip title={this.props.toolTip} style={{visibility: this.props.visibility ? this.props.visibility : \"visible\"}}>\n                <IconButton aria-label={this.props.label} onClick={(event) => this.props.onButtonClick(event)}>\n                    {display}\n                </IconButton>\n            </Tooltip>\n\n        )\n    }\n}\n\nexport default ActionButton","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport { Typography, Box, Radio, TextField, Button, Divider, TextareaAutosize } from '@material-ui/core';\nimport { Scrollbar } from 'react-scrollbars-custom';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport HelpIcon from '@material-ui/icons/Help';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nimport ActionButton from './ActionButton'\n\nclass CommandDisplay extends React.Component {\n\n    commandSent = null\n\n    constructor(props) {\n        super(props)\n\n        this.commandOptions = this.props.command.options.concat([])\n\n        this.commandOptions.unshift({\n            display: \"Read\",\n            description: \"Read current value from device\",\n            type: \"select\"\n        })\n\n        let defaultOption = this.commandOptions[0]\n\n        let defaultInputSelection\n        if (this.props.commandName.endsWith(\"<x>\") && this.props.command.indexed) {\n            this.inputRange = []\n            let range = this.props.command.indexRange.split('..');\n            for (var i = range[0]; i <= range[1]; i++) {\n                this.inputRange.push(i);\n            }\n            defaultInputSelection = this.inputRange[0]\n        } else {\n            this.inputRange = [\"\"]\n            defaultInputSelection = \"\"\n        }\n\n        this.state = {\n            commandIndex: 0,\n            selectedOption: defaultOption,\n            valueToSend: \"\",\n            commandToSend: this.generateCommand(defaultOption, \"\", 1),\n            logsOutput: \"\",\n            currentSelectedInputRangeValue: defaultInputSelection,\n            currentSelectedCommand: this.generateCurrentCommand(1),\n        }\n    }\n\n\n    componentWillMount() {\n        this.props.deviceConnector.connect(this)\n    }\n\n    componentWillUnmount() {\n        this.props.deviceConnector.disconnect(this)\n    }\n\n    onCommandResponse(cmnd, success, response) {\n\n        if (this.commandSent && cmnd === this.commandSent) {\n            let log = `Command ${cmnd} : ${success ? \"Success\" : \"Failed\"}`\n            if (success) {\n                log += `\\nResponse : ${JSON.stringify(response, null, 2)}`\n            }\n            this.addLog(log)\n        }\n    }\n\n    onClearLog(event) {\n        event.stopPropagation()\n        this.setState({ logsOutput: '' })\n    }\n\n    addLog(newLog) {\n        this.setState({ logsOutput: (this.state.logsOutput + `\\n${new Date().toLocaleTimeString()} : ${newLog}`).trim() })\n    }\n\n    sendCommandInternal(event, command) {\n        event.stopPropagation()\n        this.addLog('Sending command : ' + command)\n        this.commandSent = command\n        this.props.deviceConnector.performCommandOnDevice(command)\n\n    }\n\n    sendCommand(event) {\n        this.sendCommandInternal(event, this.state.commandToSend)\n    }\n\n    onCommandInputChanged(event) {\n        event.stopPropagation()\n        this.setState({ commandToSend: event.target.value })\n    }\n\n    onInputRangeItemSelected(event, value) {\n        event.stopPropagation()\n        this.setState({ currentSelectedInputRangeValue: value, currentSelectedCommand: this.generateCurrentCommand(value), commandToSend: this.generateCommand(this.state.selectedOption, this.state.valueToSend, value) })\n    }\n\n    onValueInputChanged(event) {\n        event.stopPropagation()\n        this.setState({ valueToSend: event.target.value, commandToSend: this.generateCommand(this.state.selectedOption, event.target.value, this.state.currentSelectedInputRangeValue) })\n    }\n\n    onOptionItemSelected(event, option) {\n        event.stopPropagation()\n        this.setState({ selectedOption: option, commandToSend: this.generateCommand(option, this.state.valueToSend, this.state.currentSelectedInputRangeValue) })\n    }\n\n    isCurrentSelectedOption(option) {\n        if (this.state.selectedOption) {\n            return this.state.selectedOption === option\n        } else {\n            return false\n        }\n    }\n\n    shouldShowValueInput() {\n        if (this.state.selectedOption) {\n            return this.state.selectedOption.type === \"input\" || this.state.selectedOption.type === \"range\"\n        } else {\n            return false\n        }\n    }\n\n    generateCurrentCommand(rangeValue) {\n        if (this.props.commandName.endsWith('<x>')) {\n            return this.props.commandName.replace(\"<x>\", rangeValue)\n        } else {\n            return this.props.commandName\n        }\n    }\n\n    generateCommand(option, valueToSend, rangeValue) {\n        let command = this.generateCurrentCommand(rangeValue)\n        if (option) {\n            switch (option.type) {\n                case \"select\":\n                    if (option.display !== \"Read\") {\n                        let arg = option.display\n                        let slashIndex = arg.indexOf(\"/\")\n                        if (slashIndex > 0) {\n                            arg = arg.substring(0, slashIndex)\n                        }\n                        command += ` ${arg}`\n                    }\n                    break\n\n                case \"input\":\n                case \"range\":\n                default:\n                    command += ` ${valueToSend}`\n                    break\n\n            }\n        }\n        return command\n    }\n\n    renderCommandDetails() {\n        return (\n            // <React.Fragment>\n            <Box display=\"flex\" flexDirection=\"column\" flexGrow={1} paddingTop={3}>\n                <Box display=\"flex\" flexDirection=\"row\" flexGrow={1}>\n                    <Scrollbar style={{ width: 300, height: 200 }} px={5} flexGrow={4}>\n                        <List dense>\n                            {this.inputRange.map(value => {\n                                let command = this.generateCurrentCommand(value)\n                                return (\n                                    <ListItem key={value} role={undefined} button onClick={(event) => this.onInputRangeItemSelected(event, value)}>\n                                        <ListItemIcon>\n                                            <Radio\n                                                checked={this.state.currentSelectedInputRangeValue === value}\n                                                value={value}\n                                                name={value}\n                                                inputProps={{ 'aria-label': 'A' }}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText id={command} primary={command} />\n                                    </ListItem>\n                                )\n                            })}\n                        </List>\n                    </Scrollbar>\n                    <Scrollbar style={{ width: 300, height: 200 }} px={5} flexGrow={4}>\n                        <List dense>\n                            {this.commandOptions.map(option => {\n                                return (\n                                    <ListItem key={option.display} role={undefined} button onClick={(event) => this.onOptionItemSelected(event, option)}>\n                                        <ListItemIcon>\n                                            <Radio\n                                                checked={this.isCurrentSelectedOption(option)}\n                                                // onChange={handleChange}\n                                                value={option.display}\n                                                name={option.display}\n                                                inputProps={{ 'aria-label': 'A' }}\n                                            />\n                                        </ListItemIcon>\n                                        <ListItemText id={option.display} primary={option.display} secondary={option.description} />\n                                    </ListItem>\n                                )\n                            })}\n                        </List>\n                    </Scrollbar>\n                    {this.shouldShowValueInput() ?\n                        <form noValidate autoComplete=\"off\">\n                            <TextField\n                                px={5}\n                                style={{ width: 500, height: 150 }}\n                                flexGrow={4}\n                                rows=\"8\"\n                                multiline\n                                required\n                                id=\"value\"\n                                label=\"Value\"\n                                onChange={(event) => this.onValueInputChanged(event)}\n                                value={this.state.valueToSend}\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                            />\n                        </form>\n                        : null}\n\n                </Box>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        style={{ width: 1000, height: 100 }}\n                        rows=\"1\"\n                        multiline\n                        id=\"commandToSend\"\n                        label=\"Command to Send\"\n                        value={this.state.commandToSend}\n                        onChange={(event) => this.onCommandInputChanged(event)}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                    />\n                </form>\n\n                <Typography px={5} flexGrow={1}>Logs</Typography>\n                <Box display=\"flex\" flexDirection=\"row\" flexGrow={0}>\n                    <TextareaAutosize\n                        aria-label=\"minimum height\"\n                        rows={6}\n                        rowsMax={8}\n                        value={this.state.logsOutput}\n                        disabled\n                        style={{ width: 1000, height: 100 }} />\n\n                    <ActionButton\n                        key={this.props.commandName + 'clearlog'}\n                        toolTip=\"Clear Log\"\n                        label=\"Clear Log\"\n                        icon={<HighlightOffIcon />}\n                        onButtonClick={(event) => this.onClearLog(event)}\n                    />\n                </Box>\n\n            </Box>\n        )\n    }\n\n    openHelp(event, command) {\n        event.stopPropagation()\n        window.open(`https://tasmota.github.io/docs/#/Commands?id=${this.props.commandName.toLowerCase().replace(\"<x>\", \"\")}`, \"tascommands\")\n    }\n\n    render() {\n\n        return (\n            <ExpansionPanel key={`CommandDisplay-${this.props.commandName}`} TransitionProps={{ unmountOnExit: true, mountOnEnter: true }}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" style={{ flexBasis: \"33%\" }}>\n                        <Typography>{this.props.commandName}</Typography>\n                        <IconButton onClick={(event) => this.openHelp(event,this.props.commandName)}>\n                            <HelpIcon />\n                        </IconButton>\n                    </Box>\n                    <Typography style={{ alignSelf: \"center\" }} color=\"textSecondary\" >{this.props.command.description.substring(0, 60)}</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Box display=\"flex\" flexDirection=\"column\" flexWrap=\"wrap\">\n                        <Typography style={{ whiteSpace: 'pre-line' }}>{this.props.command.description}</Typography>\n                        {this.renderCommandDetails()}\n                    </Box>\n                </ExpansionPanelDetails>\n                <Divider />\n                <ExpansionPanelActions>\n                    <Button size=\"small\" variant=\"contained\" onClick={(event) => this.sendCommand(event)}>Send Command</Button>\n                </ExpansionPanelActions>\n            </ExpansionPanel>\n        )\n    }\n}\n\nexport default CommandDisplay","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport CommandDisplay from './CommandDisplay'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography'\n\nclass CommandGroup extends React.Component {\n\n    render() {\n        return (\n\n            <ExpansionPanel key={`CommandGroup-`} TransitionProps={{ unmountOnExit: true, mountOnEnter: true }}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography>{`${this.props.commandGroupName} ${this.props.groupType}`}</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Box display=\"flex\" flexDirection=\"column\" flexGrow={1}>\n                        {Object.entries(this.props.commandGroup).sort().map(([commandName, command]) => {\n                            return (\n                                <CommandDisplay commandName={commandName} command={command} deviceConnector={this.props.deviceConnector} />\n                            )\n                        })}\n                    </Box>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        )\n    }\n\n}\n\n\nexport default CommandGroup","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport { Box, TextField } from '@material-ui/core'\nimport { withStyles, ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ActionButton from './ActionButton';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst styles = theme => ({\n    disabledInput: {\n        color: theme.palette.text.primary,\n    },\n})\n\nclass EditableSetting extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            enableEdit: false,\n            currentValue: this.props.currentValue,\n        }\n    }\n\n    save(event) {\n        event.stopPropagation()\n        this.props.settingUpdatedCallback(this.props.currentValue, this.state.currentValue)\n        this.setState({ enableEdit: false })\n    }\n\n    render() {\n        const { classes } = this.props\n        return (\n            <Box display=\"flex\" flexDirection=\"row\" flexGrow={0} flexShrink={1} justifyContent=\"center\">\n                <TextField\n                    key={'editable-setting' + this.props.command}\n                    disabled={this.state.enableEdit ? 0 : 1}\n                    id={'id' + this.props.command}\n                    label={this.props.label}\n                    color=\"primary\"\n                    margin=\"normal\"\n                    value={this.state.currentValue}\n                    InputProps={{ classes: { disabled: classes.disabledInput } }}\n                    onChange={(event) => this.setState({ currentValue: event.target.value })}\n                />\n\n                {!this.state.enableEdit ?\n                    <React.Fragment>\n                        <ActionButton\n                            toolTip=\"Edit\"\n                            label=\"edit\"\n                            icon={<EditIcon />}\n                            onButtonClick={() => this.setState({ enableEdit: true })}\n                        />\n                    </React.Fragment>\n                    :\n                    (\n                        <React.Fragment>\n                            <ActionButton\n                                toolTip=\"Save\"\n                                label=\"save\"\n                                icon={<DoneIcon />}\n                                onButtonClick={(event) => this.save(event)}\n\n                            />\n                        </React.Fragment>\n                    )\n                }\n\n                <ActionButton\n                    visibility={this.state.enableEdit ? \"visible\" : \"hidden\"}\n                    toolTip=\"Cancel\"\n                    label=\"cancel\"\n                    icon={<CancelIcon />}\n                    onButtonClick={(event) => this.setState({ enableEdit: false, currentValue: this.props.currentValue })}\n                />\n\n            </Box>\n\n        )\n    }\n}\n\nexport default withStyles(styles)(EditableSetting)","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport TextField from \"@material-ui/core/TextField\";\nimport { Typography, Box, Button } from '@material-ui/core';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Divider from '@material-ui/core/Divider';\n\nclass SettingsGroup extends React.Component {\n\n    constructor(pros) {\n        super(pros)\n        let defaultStates = {}\n        this.props.settingsGroup.settings.forEach((setting) => {\n            defaultStates[setting.command] = \"\"\n        })\n        this.state = {\n            settingsStates: defaultStates,\n        }\n        this.commandResponses = {}\n    }\n\n    onCommandResponse(cmnd, success, response) {\n        console.log('Settings cmnd %s success %s response : %O ', cmnd, success, response)\n        if (success) {\n            let newState = Object.assign({}, this.state.settingsStates)\n            Object.keys(response).forEach((key) => {\n                if (key.toUpperCase() === cmnd.toUpperCase()) {\n                    newState[cmnd] = response[key];\n                    this.commandResponses[cmnd] = response[key]\n                }\n            })\n            // newState[cmnd] = String(response[cmnd])\n            this.setState({\n                settingsStates: newState,\n            })\n        }\n    }\n\n    componentDidMount() {\n        this.props.deviceConnector.connect(this);\n        this.props.settingsGroup.settings.forEach((setting, index) => {\n            this.props.deviceConnector.performCommandOnDeviceDirect(setting.command);\n        })\n    }\n\n    getCurrentSettings = command => (event, isExpanded) => {\n        event.stopPropagation()\n        if (isExpanded) {\n            this.props.settingsGroup.settings.forEach((setting, index) => {\n                this.props.deviceConnector.performCommandOnDeviceDirect(setting.command);\n            })\n        }\n    }\n\n    handleSettingsChanged(event, command) {\n        event.stopPropagation()\n        let newState = Object.assign({}, this.state.settingsStates)\n        newState[command] = event.target.value\n        this.setState({\n            settingsStates: newState,\n        })\n    }\n\n    renderSettingInputs() {\n        return this.props.settingsGroup.settings.map((setting, index) => {\n            return <TextField\n                key={'settings' + setting.command}\n                id={'id' + setting.name}\n                label={setting.name}\n                // placeholder={setting.name}\n                margin=\"normal\"\n                variant=\"outlined\"\n                value={this.state.settingsStates[setting.command]}\n                onChange={(event) => this.handleSettingsChanged(event, setting.command)}\n            />\n        })\n    }\n\n    saveSettings(event) {\n        event.stopPropagation()\n        let command = 'backlog'\n        this.props.settingsGroup.settings.forEach((setting, index) => {\n            if (this.state.settingsStates[setting.command] !== this.commandResponses[setting.command]) {\n                command += ' ' + setting.command + ' ' + this.state.settingsStates[setting.command] + ';'\n            }\n        })\n\n        if (command !== 'backlog') {\n            command = command.slice(0, -1);\n            console.log('Performing command %s', command)\n            this.props.deviceConnector.performCommandOnDeviceDirect(command);\n        }\n    }\n\n    render() {\n        return (\n\n            <ExpansionPanel key={`SettingsExpansionPanel-${this.props.settingsGroup.groupName}`} onChange={this.getCurrentSettings()}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography>{this.props.settingsGroup.groupName}</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n                        {this.renderSettingInputs()}\n                    </Box>\n                </ExpansionPanelDetails>\n                <Divider />\n                <ExpansionPanelActions>\n                    <Button size=\"small\" variant=\"contained\" onClick={(event) => this.saveSettings(event)}>Save {this.props.settingsGroup.groupName}</Button>\n                </ExpansionPanelActions>\n            </ExpansionPanel>\n\n        )\n    }\n\n}\n\nexport default SettingsGroup","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport { Box, Button, Divider, Paper, Slider, Tooltip, FormControl, InputLabel, Select, MenuItem, ExpansionPanelActions } from '@material-ui/core';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { blue } from '@material-ui/core/colors';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport { createMuiTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport ContactlessIcon from '@material-ui/icons/Contactless';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport React, { Component } from 'react';\nimport Svg from 'react-inlinesvg';\nimport CommandGroup from '../Components/CommandGroup';\nimport EditableSetting from '../Components/EditableSetting';\nimport SettingsGroup from '../Components/SettingsGroup';\nimport copyToClipboard from '../Utils/CopyToClipboard';\nimport VisibilityListener from '../Utils/VisibilityListener';\n\n\nconst styles = theme => ({\n    imageContainer: {\n        padding: theme.spacing(2),\n        height: 200,\n        width: 200,\n    },\n    root: {\n        padding: theme.spacing(3, 2),\n        margin: theme.spacing(2),\n    },\n    detailsContainer: {\n        padding: theme.spacing(2),\n        margin: theme.spacing(2),\n    },\n})\n\nconst onButtonTheme = createMuiTheme({\n    palette: {\n        primary: blue,\n    },\n});\n\nconst powerRegex = RegExp('POWER\\D*')\nconst dimmerRegex = RegExp('Dimmer\\D*')\n\n\nconst DimmerSlider = withStyles({\n    root: {\n        color: '#52af77',\n        height: 8,\n        width: 300,\n        paddingTop: 70,\n        paddingBottom: 10,\n        paddingLeft: 10,\n        paddingRight: 10,\n    },\n    thumb: {\n        height: 24,\n        width: 24,\n        backgroundColor: '#fff',\n        border: '2px solid currentColor',\n        marginTop: -8,\n        marginLeft: -12,\n        '&:focus,&:hover,&$active': {\n            boxShadow: 'inherit',\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% + 4px)',\n    },\n    track: {\n        height: 8,\n        borderRadius: 4,\n    },\n    rail: {\n        height: 8,\n        borderRadius: 4,\n    },\n})(Slider);\n\nconst templateGPIOIndex = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"9\", \"10\", \"12\", \"13\", \"14\", \"15\", \"16\"]\n\nconst templateFlagOptions = [\n    { value: 0, text: \"No features\" },\n    { value: 1, text: \"Analog Value\" },\n    { value: 2, text: \"Temperatue\" },\n    { value: 3, text: \"Light\" },\n    { value: 4, text: \"Button\" },\n    { value: 5, text: \"Buttoni\" },\n    { value: 15, text: \"User configured (same as GPIO 255)\" },\n]\n\nclass TasmotaDevice extends Component {\n\n    deviceConnector = null;\n    deviceConfig = null;\n\n    constructor(props) {\n        super(props);\n        this.macAddress = this.props.macAddress;\n        this.state = {\n            deviceInfo: null,\n            dimmerAnchors: {},\n            online: false,\n            currentTemplate: {},\n        }\n    }\n\n    onWindowVisibilityChanged(visible) {\n        if (visible) {\n            this.deviceConnector.resume();\n        } else {\n            this.deviceConnector.pause();\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.macAddress !== this.macAddress) {\n            this.deviceConnector.disconnect();\n            this.deviceConnector = this.props.deviceManager.getDeviceConnector(nextProps.macAddress, this.props.deviceManager.getDevice(nextProps.macAddress).status0Response.StatusNET.IPAddress);\n            this.deviceConfig = this.props.deviceManager.getTasmotaConfig(nextProps.macAddress)\n            this.deviceConnector.connect();\n        }\n    }\n\n    componentWillMount() {\n        this.deviceConfig = this.props.deviceManager.getTasmotaConfig(this.macAddress)\n        let deviceInfo = this.props.deviceManager.getDevice(this.macAddress)\n        this.setState({\n            deviceInfo: deviceInfo,\n            currentTemplate: deviceInfo.templateResponse,\n        })\n        if (!this.deviceConnector) {\n            this.deviceConnector = this.props.deviceManager.getDeviceConnector(this.macAddress, this.props.deviceManager.getDevice(this.macAddress).status0Response.StatusNET.IPAddress);\n        }\n        this.setState({\n            online: this.deviceConnector.online\n        })\n        this.deviceConnector.connect(this);\n        VisibilityListener.addVisibilityChangeCallback(this.onWindowVisibilityChanged.bind(this));\n    }\n\n    componentWillUnmount() {\n        VisibilityListener.removeVisibilityChangeCallback(this.onWindowVisibilityChanged.bind(this));\n        this.deviceConnector.disconnect();\n    }\n\n    updateDeviceInfoState(updatedInfo) {\n        this.setState({ deviceInfo: { ...this.state.deviceInfo, ...updatedInfo } })\n        this.props.deviceManager.updateDevice(this.macAddress, updatedInfo)\n    }\n\n    onCommandResponse(cmnd, success, response) {\n        // console.log('State %s cmnd: %s response : %O', this.state.displayName, cmnd, response)\n\n        this.setState({ online: success });\n\n        if (success) {\n\n            if (cmnd === 'Status 0') {\n                // console.log('Status0 %s :  %O', this.macAddress, response);\n                this.updateDeviceInfoState({ status0Response: response })\n            } else if (cmnd === 'Template') {\n                this.updateDeviceInfoState({ templateResponse: response })\n                this.setState({ currentTemplate: response })\n                this.deviceConnector.performCommandOnDevice('GPIOS 255')\n            } else if (cmnd.startsWith('Template {')) {\n                this.updateDeviceInfoState({ templateResponse: response })\n                this.setState({ currentTemplate: response })\n            } else if (cmnd === 'GPIO 255') {\n                // console.log('GPIO Response : %O', response)\n                this.updateDeviceInfoState({ gpio255Response: response })\n                this.deviceConnector.performCommandOnDevice('GPIOS 255')\n            } else if (cmnd === 'GPIOS 255') {\n                this.updateDeviceInfoState({ gpiosResponse: response })\n                this.deviceConnector.performCommandOnDevice('Modules')\n            } else if (cmnd === 'Modules') {\n                this.updateDeviceInfoState({ modulesResponse: response })\n            } else if (cmnd === 'State') {\n\n                if (response.Module) {\n                    delete response.Module\n                }\n\n                var status0Clone = Object.assign({}, this.state.deviceInfo.status0Response);\n\n                var statusNames = Object.keys(status0Clone)\n\n                statusNames.forEach((status) => {\n                    Object.keys(status0Clone[status]).forEach((param) => {\n                        if (response[param]) {\n                            status0Clone[status][param] = response[param]\n                        }\n                    })\n                })\n\n                this.updateDeviceInfoState({ status0Response: status0Clone })\n\n            } else if (cmnd === 'Status 8') {\n\n                var status0Clone = Object.assign({}, this.state.deviceInfo.status0Response);\n                status0Clone.StatusSNS = response.StatusSNS\n\n                this.updateDeviceInfoState({ status0Response: status0Clone })\n            } else if (cmnd === 'Module') {\n                this.updateDeviceInfoState({ moduleResponse: response })\n            } else if (cmnd === 'WifiPower') {\n                this.updateDeviceInfoState({ wifiPowerResponse: response })\n            }\n        }\n    }\n\n    powerToggle(button, event) {\n        event.stopPropagation();\n        console.log('Toggle power ' + button)\n        this.deviceConnector.performCommandOnDevice(button + ' TOGGLE');\n    }\n\n    dimmerUpdate(dimmer, event, newValue) {\n        console.log('Dimmer id : %O, value %O newValue %O', dimmer, event, newValue);\n        event.stopPropagation()\n        this.deviceConnector.performCommandOnDevice(dimmer + ' ' + newValue);\n    }\n\n    getModuleDisplayText() {\n        if (this.state.deviceInfo.moduleResponse) {\n            return this.deviceConfig.moduleResponseFormatter(this.state.deviceInfo.moduleResponse)\n        } else {\n            return this.state.deviceInfo.status0Response.Status.Module\n        }\n    }\n\n    renderTypeTableStatusRow() {\n        return (\n            <TableRow key={this.props.macAddress}>\n                <TableCell component=\"th\" scope=\"row\">\n                    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Box fontSize={16}>\n                            {this.state.deviceInfo.status0Response.Status.FriendlyName[0]}\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row\">\n                            {this.props.actionButtons}\n                        </Box>\n                    </Box>\n                </TableCell>\n                <TableCell>{this.renderConnectivityStatus()}</TableCell>\n                <TableCell>{this.getModuleDisplayText()}</TableCell>\n                <TableCell><Box flex={1} flexDirection='row'>{this.renderDetailsControlsButtons('Table')}</Box></TableCell>\n                <TableCell>{this.renderDetailsControlsDimmers('Table')}</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTypeTableHealthRow() {\n        return (\n            <TableRow key={this.props.macAddress}>\n                <TableCell component=\"th\" scope=\"row\">\n                    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Box fontSize={16}>\n                            {this.state.deviceInfo.status0Response.Status.FriendlyName[0]}\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row\">\n                            {this.props.actionButtons}\n                        </Box>\n                    </Box>\n                </TableCell>\n                <TableCell>{this.renderConnectivityStatus()}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.RSSI}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Uptime}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.MqttCount}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.LinkCount}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.Downtime}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusFWR.Version}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusFWR.Core}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusPRM.BootCount}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusPRM.RestartReason}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.LoadAvg}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Sleep}</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTypeTableWifiRow() {\n        return (\n            <TableRow key={this.props.macAddress}>\n                <TableCell component=\"th\" scope=\"row\">\n                    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Box fontSize={16}>\n                            {this.state.deviceInfo.status0Response.Status.FriendlyName[0]}\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row\">\n                            {this.props.actionButtons}\n                        </Box>\n                    </Box>\n                </TableCell>\n                <TableCell>{this.renderConnectivityStatus()}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.RSSI}</TableCell>\n                <TableCell>{this.state.deviceInfo.wifiPowerResponse ? this.state.deviceInfo.wifiPowerResponse.WifiPower : 'Unsupported'}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.BSSId}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.LinkCount}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.Downtime}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusNET.Hostname}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusNET.Mac}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusNET.IPAddress}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusNET.Gateway}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.SSId}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.Channel}</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTypeTableMqttRow() {\n        return (\n            <TableRow key={this.props.macAddress}>\n                <TableCell component=\"th\" scope=\"row\">\n                    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Box fontSize={16}>\n                            {this.state.deviceInfo.status0Response.Status.FriendlyName[0]}\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row\">\n                            {this.props.actionButtons}\n                        </Box>\n                    </Box>\n                </TableCell>\n                <TableCell>{this.renderConnectivityStatus()}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.RSSI}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.MqttCount}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.Status.Topic}</TableCell>\n                <TableCell>'Full Topic - N/A'</TableCell>\n                <TableCell>'Command Topic - N/A'</TableCell>\n                <TableCell>'Stat Topic - N/A'</TableCell>\n                <TableCell>'Tele Topic - N/A'</TableCell>\n                <TableCell>'Fallback Topic - N/A'</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusPRM.GroupTopic}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusMQT.MqttHost}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusMQT.MqttPort}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusMQT.MqttClient}</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTypeTableFirmwareRow() {\n        return (\n            <TableRow key={this.props.macAddress}>\n                <TableCell component=\"th\" scope=\"row\">\n                    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n                        <Box fontSize={16}>\n                            {this.state.deviceInfo.status0Response.Status.FriendlyName[0]}\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"row\">\n                            {this.props.actionButtons}\n                        </Box>\n                    </Box>\n                </TableCell>\n                <TableCell>{this.renderConnectivityStatus()}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusFWR.Version}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusFWR.Core}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusFWR.SDK}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusMEM.ProgramSize}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusMEM.Free}</TableCell>\n                <TableCell>{this.state.deviceInfo.status0Response.StatusPRM.OtaUrl}</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTypeList() {\n        return (\n            <div style={{ width: '100%' }}>\n                <Box display=\"flex\">\n                    <DeveloperBoardIcon />\n                    <Box display=\"flex\" flexGrow={1} marginLeft={2}>\n                        <Typography>\n                            {/* {this.state.displayName} */}\n                        </Typography>\n                        {this.renderDetailsControlsDimmers()}\n                        {this.renderDetailsControlsButtons()}\n                    </Box>\n                    {this.props.actionButtons}\n                </Box>\n            </div>\n        )\n    }\n\n    renderConnectivityStatus() {\n        return (\n            <Tooltip title={this.state.online ? \"Online\" : \"Offline\"} >\n                <ContactlessIcon color={this.state.online ? \"primary\" : \"secondary\"} />\n            </Tooltip>\n        )\n    }\n\n    renderDetailsImage() {\n        return (\n            <Svg src=\"https://raw.githubusercontent.com/arendst/Tasmota/development/tools/logo/TASMOTA_Symbol_Vector.svg\" width=\"90%\" height=\"90%\" padding=\"20\" />\n        )\n    }\n\n    renderDetailsControlsButtons(type = 'Details') {\n        if (this.state.deviceInfo.status0Response) {\n            let buttons = Object.entries(this.state.deviceInfo.status0Response['StatusSTS']).filter(([key, value]) => {\n                if (powerRegex.test(key)) {\n                    return [key, value];\n                }\n            })\n\n            // console.log('DetailsControls buttons : %O', buttons)\n\n            return buttons.map(([key, value]) => {\n\n                let display = key;\n                if (type === 'Table') {\n                    display = key.replace('POWER', '');\n\n                    if (display === '') {\n                        display = '1'\n                    }\n                }\n\n                if (value === 'ON') {\n                    return (\n                        <ThemeProvider theme={onButtonTheme} key={key}>\n                            <Button variant=\"contained\" key={key} color=\"primary\" onClick={(event) => this.powerToggle(key, event)}>{display}</Button>\n                        </ThemeProvider>\n                    )\n                } else {\n                    return (\n                        <Button variant=\"contained\" key={key} onClick={(event) => this.powerToggle(key, event)}>{display}</Button>\n                    )\n                }\n            })\n        }\n    }\n\n    openDimmerPopover(dimmer, event) {\n        event.stopPropagation()\n        let newAnchors = Object.assign({}, this.state.dimmerAnchors);\n        newAnchors[dimmer] = event.target\n        this.setState({\n            dimmerAnchors: newAnchors,\n        })\n    }\n\n    dimmerPopoverClosed(dimmer, event) {\n        event.stopPropagation()\n        let newAnchors = Object.assign({}, this.state.dimmerAnchors);\n        delete newAnchors[dimmer]\n        this.setState({\n            dimmerAnchors: newAnchors,\n        })\n    }\n\n\n    renderDetailsControlsDimmers(type = 'Details') {\n        if (this.state.deviceInfo.status0Response) {\n            let dimmers = Object.entries(this.state.deviceInfo.status0Response['StatusSTS']).filter(([key, value]) => {\n                if (dimmerRegex.test(key)) {\n                    return [key, value];\n                }\n            })\n\n            // console.log('DetailsControls dimmers : %O', dimmers)\n\n            return dimmers.map(([key, value]) => {\n\n                let display = key + ' ' + value;\n                if (type === 'Table') {\n                    display = key.replace('Dimmer', 'Dim');\n                    display += ':' + value\n                }\n\n                return (\n                    <div>\n                        <Button variant=\"contained\" key={key} onClick={(event) => this.openDimmerPopover(key, event)}>{display}</Button>\n\n                        <Popover\n                            id={'dimmerPop' + key}\n                            open={Boolean(this.state.dimmerAnchors[key])}\n                            anchorEl={this.state.dimmerAnchors[key]}\n                            onClose={(event) => this.dimmerPopoverClosed(key, event)}\n                            anchorOrigin={{\n                                vertical: 'bottom',\n                                horizontal: 'center',\n                            }}\n                            transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'center',\n                            }}\n                        >\n                            <DimmerSlider\n                                defaultValue={value}\n                                id={key}\n                                aria-labelledby={key + 'slider'}\n                                valueLabelDisplay=\"on\"\n                                step={1}\n                                min={1}\n                                max={100}\n                                onChange={(event, value) => event.stopPropagation()}\n                                onChangeCommitted={(event, value) => this.dimmerUpdate(key, event, value)}\n                            />\n                        </Popover>\n                    </div>\n                )\n            })\n        }\n    }\n\n    renderDetailsStatuses() {\n\n        return Object.entries(this.state.deviceInfo.status0Response).map(([cmnd, cmndData]) => {\n\n            return (\n                <ExpansionPanel key={cmnd}>\n                    <ExpansionPanelSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        aria-controls=\"panel1a-content\"\n                        id=\"panel1a-header\"\n                    >\n                        <Typography>{cmnd}</Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails>\n                        <Table aria-label=\"simple table\" size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>Key</TableCell>\n                                    <TableCell>Value</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {Object.entries(cmndData).map(([key, value]) => {\n                                    return (\n                                        <TableRow key={key}>\n                                            <TableCell align=\"left\">{key}</TableCell>\n                                            <TableCell align=\"left\">\n                                                <Typography display=\"inline\">\n                                                    {JSON.stringify(value, null, 2)}\n                                                </Typography>\n                                            </TableCell>\n                                        </TableRow>\n                                    )\n                                })}\n                            </TableBody>\n                        </Table>\n                    </ExpansionPanelDetails>\n                </ExpansionPanel>\n            )\n\n\n        })\n\n    }\n\n    convertHexStringToBitArray(bytesString) {\n        var bitArray = [];\n        var digitValue = 0;\n        let charArray = bytesString.toLowerCase().split('');\n\n\n        charArray.forEach((char, index) => {\n            digitValue = '0123456789abcdefgh'.indexOf(char);\n            for (let n = 3; n >= 0; n--) {\n                bitArray.push((digitValue >> n) & 1)\n            }\n        })\n\n        // console.log('ByteString: %s to bitArray : %O', bytesString, bitArray.reverse())\n        return bitArray.reverse()\n    }\n\n\n    renderDetailsSetOptions() {\n        return (\n            <ExpansionPanel key=\"SetOptionFlagExpansionPanel\" TransitionProps={{ unmountOnExit: true, mountOnEnter: true }}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography>SetOption Flags</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <List dense >\n                        {this.renderDetailsSetOptionsListItems()}\n                    </List>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        )\n    }\n\n    changeSetOption(setOption, event) {\n        event.stopPropagation()\n        this.deviceConnector.performCommandOnDevice(setOption + (event.target.checked ? ' 1' : ' 0'));\n    }\n\n    renderDetailsSetOptionsListItems() {\n\n        return this.state.deviceInfo.status0Response.StatusLOG.SetOption.map((setOptionStr, index) => {\n            if (index !== 1) {\n                let valueArray = this.convertHexStringToBitArray(setOptionStr)\n                return this.deviceConfig.setOptionsStatusMaps[index].items.map((item, itemIndex) => {\n                    if (item.name !== '' && item.description !== '') {\n                        var soValue = itemIndex + this.deviceConfig.setOptionsStatusMaps[index].setOptionStart;\n                        // console.log('SetOption%d (%s) : %d', soValue, item.name, valueArray[itemIndex])\n                        return (\n                            <React.Fragment>\n                                <ListItem key={'SetOption' + soValue}>\n                                    <ListItemText id={'checkbox-lable-SetOption' + soValue} primary={`SetOption${soValue}`}\n                                        secondary={item.description} />\n                                    <ListItemSecondaryAction>\n                                        <Checkbox\n                                            edge=\"end\"\n                                            checked={valueArray[itemIndex] === 1}\n                                            onChange={(event) => this.changeSetOption('SetOption' + soValue, event)}\n                                        // disabled\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                                <Divider variant=\"fullWidth\" component=\"li\" />\n                            </React.Fragment>\n                        )\n                    }\n                })\n            }\n        })\n    }\n\n    getPanelCommandData = command => (event, isExpanded) => {\n        event.stopPropagation()\n        if (isExpanded) {\n            this.deviceConnector.performCommandOnDevice(command);\n        }\n    }\n\n    getAvailableGPIOS() {\n        var availableGPIOs = []\n\n        var gpioObject = Object.keys(this.state.deviceInfo.gpiosResponse)\n\n        for (let key of gpioObject) {\n            for (let [gpioNum, gpioName] of Object.entries(this.state.deviceInfo.gpiosResponse[key])) {\n                availableGPIOs.push({ gpioNum: gpioNum, gpioName: gpioName })\n            }\n        }\n\n        availableGPIOs.push({ gpioNum: 255, gpioName: \"User\" })\n        return availableGPIOs\n    }\n\n    getGPIOName(gpio) {\n        var keys = Object.keys(this.state.deviceInfo.gpiosResponse)\n\n        if (gpio === 255) {\n            return 'User'\n        }\n\n        for (let n = 0; n < keys.length; n++) {\n            // console.log(\"Keys %s\", this.state.deviceInfo.gpiosResponse[keys[n]])\n            if (!Array.isArray(this.state.deviceInfo.gpiosResponse[keys[n]])) {\n                if (this.state.deviceInfo.gpiosResponse[keys[n]][gpio]) {\n                    return this.state.deviceInfo.gpiosResponse[keys[n]][gpio]\n                }\n            } else {\n                for (let i = 0; i < this.state.deviceInfo.gpiosResponse[keys[n]].length; i++) {\n                    if (this.state.deviceInfo.gpiosResponse[keys[n]][i].startsWith(gpio.toString() + ' ')) {\n                        return this.state.deviceInfo.gpiosResponse[keys[n]][i].replace(gpio.toString(), \"\")\n                    }\n                }\n            }\n        }\n\n        return 'Unknown'\n    }\n\n    onTemplateGPIOChanged(gpioindex, event) {\n        let newTemplate = Object.assign({}, this.state.currentTemplate)\n        newTemplate.GPIO[gpioindex] = event.target.value\n        this.setState({ currentTemplate: newTemplate })\n    }\n\n\n    onTemplateNameUpdated(oldName, newName) {\n        let newTemplate = Object.assign({}, this.state.currentTemplate)\n        newTemplate.NAME = newName\n        this.setState({ currentTemplate: newTemplate })\n    }\n\n    onTemplateFlagChanged(event) {\n        let newTemplate = Object.assign({}, this.state.currentTemplate)\n        newTemplate.FLAG = event.target.value\n        this.setState({ currentTemplate: newTemplate })\n    }\n\n    onTemplateBaseChanged(event) {\n        let newTemplate = Object.assign({}, this.state.currentTemplate)\n        newTemplate.BASE = event.target.value\n        this.setState({ currentTemplate: newTemplate })\n    }\n\n    getAvailableModules() {\n        var availableModules = []\n\n        var moduleObject = Object.keys(this.state.deviceInfo.modulesResponse)\n\n        for (let key of moduleObject) {\n            for (let [moduleNum, moduleName] of Object.entries(this.state.deviceInfo.modulesResponse[key])) {\n                availableModules.push({ moduleNum: moduleNum, moduleName: moduleName })\n            }\n        }\n\n        return availableModules\n    }\n\n    renderTemplateResponse() {\n\n        return (\n            <Table size=\"small\">\n                <TableBody>\n                    <TableRow>\n                        <TableCell>NAME</TableCell>\n                        <TableCell><EditableSetting settingUpdatedCallback={this.onTemplateNameUpdated.bind(this)} currentValue={this.state.currentTemplate.NAME} /></TableCell>\n                    </TableRow>\n\n                    {\n                        this.state.currentTemplate.GPIO.map((gpio, index) => {\n                            return (\n                                <TableRow>\n                                    <TableCell>{`GPIO${templateGPIOIndex[index]}`}</TableCell>\n                                    <TableCell>\n                                        <FormControl>\n                                            <Select\n                                                labelId={`template-select-label-gpio${index}`}\n                                                id=\"weblog-select\"\n                                                value={gpio}\n                                                onChange={(event) => this.onTemplateGPIOChanged(index, event)}\n                                            >\n                                                {this.getAvailableGPIOS().map((availableGPIO, index) => {\n                                                    return <MenuItem value={availableGPIO.gpioNum}>{`${availableGPIO.gpioName} (${availableGPIO.gpioNum})`}</MenuItem>\n                                                })}\n                                            </Select>\n                                        </FormControl>\n                                    </TableCell>\n                                </TableRow>\n                            )\n                        })\n                    }\n\n                    <TableRow>\n                        <TableCell>FLAG</TableCell>\n                        <TableCell>\n                            <FormControl>\n                                <Select\n                                    labelId={`template-select-label-flag`}\n                                    id=\"template-flag\"\n                                    value={this.state.currentTemplate.FLAG}\n                                    onChange={(event) => this.onTemplateFlagChanged(event)}\n                                >\n                                    {templateFlagOptions.map((templateFlag, index) => {\n                                        return <MenuItem value={templateFlag.value}>{`${templateFlag.text} (${templateFlag.value})`}</MenuItem>\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </TableCell>\n                    </TableRow>\n\n                    <TableRow>\n                        <TableCell>BASE</TableCell>\n                        <TableCell>\n                            <FormControl>\n                                <Select\n                                    labelId={`template-select-label-module`}\n                                    id=\"template-module\"\n                                    value={this.state.currentTemplate.BASE}\n                                    onChange={(event) => this.onTemplateBaseChanged(event)}\n                                >\n                                    {this.getAvailableModules().map((mod, index) => {\n                                        return <MenuItem value={mod.moduleNum}>{`${mod.moduleName} (${mod.moduleNum})`}</MenuItem>\n                                    })}\n                                </Select>\n                            </FormControl>\n                        </TableCell>\n                    </TableRow>\n\n                </TableBody>\n            </Table>\n\n        )\n    }\n\n    saveTemplate(event) {\n        event.stopPropagation()\n        this.deviceConnector.performCommandOnDevice(`Template ${JSON.stringify(this.state.currentTemplate)}`)\n    }\n\n    resetTemplate(event) {\n        event.stopPropagation()\n        this.setState({ currentTemplate: this.state.deviceInfo.templateResponse})\n    }\n\n    isTemplateRenderable() {\n        return this.state.deviceInfo.templateResponse && this.state.deviceInfo.gpiosResponse && this.state.deviceInfo.modulesResponse\n    }\n\n    renderDetailsTemplate() {\n        return (\n            <ExpansionPanel key=\"TemplateDetailsExpansionPanel\" onChange={this.getPanelCommandData('Template')}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography>Template</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n\n                    {\n                        this.isTemplateRenderable() ? this.renderTemplateResponse() : <CircularProgress /> \n                    }\n\n                </ExpansionPanelDetails>\n\n                { this.isTemplateRenderable() ? (\n                    <ExpansionPanelActions>\n                        <Button size=\"small\" variant=\"contained\" onClick={(event) => this.resetTemplate(event)}>Reset Template</Button>\n                        <Button size=\"small\" variant=\"contained\" onClick={(event) => this.saveTemplate(event)}>Save Template</Button>\n                    </ExpansionPanelActions>\n                    ) : \"\"\n                }\n            </ExpansionPanel>\n        )\n    }\n\n    renderGPIOResponse() {\n\n        return (\n            <Table size=\"small\">\n                <TableBody>\n\n                    {this.deviceConfig.gpioResponseFormatter(this.state.deviceInfo.gpio255Response).map((gpioObj, index) => {\n                        return (\n                            <TableRow>\n                                <TableCell>{gpioObj.gpio}</TableCell>\n                                <TableCell>{gpioObj.gpioInfo}</TableCell>\n                            </TableRow>\n                        )\n                    })}\n\n                </TableBody>\n            </Table>\n        )\n    }\n\n    renderDetailsGPIO() {\n        return (\n            <ExpansionPanel key=\"GPIODetailsExpansionPanel\" onChange={this.getPanelCommandData('GPIO 255')}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography>Module GPIO</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n\n                    {!this.state.deviceInfo.gpio255Response || !this.state.deviceInfo.gpiosResponse ? <CircularProgress /> :\n                        this.renderGPIOResponse()\n                    }\n\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        )\n    }\n\n    renderDetailsConnectivity() {\n        return (\n            <React.Fragment>\n                <ExpansionPanel key=\"ConnectivityDetailsExpansionPanel\">\n                    <ExpansionPanelSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        aria-controls=\"panel1a-content\"\n                        id=\"panel1a-header\"\n                    >\n                        <Typography>Connectivity</Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails>\n                        <Table size=\"small\">\n                            <TableBody>\n                                <TableRow>\n                                    <TableCell />\n                                    <TableCell>Wifi AP</TableCell>\n                                    <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.SSId}</TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell />\n                                    <TableCell>Wifi Strength</TableCell>\n                                    <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.RSSI}</TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell />\n                                    <TableCell>Wifi Channel</TableCell>\n                                    <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.Channel}</TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell />\n                                    <TableCell>Wifi BSSID</TableCell>\n                                    <TableCell>{this.state.deviceInfo.status0Response.StatusSTS.Wifi.BSSId}</TableCell>\n                                </TableRow>\n                            </TableBody>\n                        </Table>\n                    </ExpansionPanelDetails>\n                </ExpansionPanel>\n            </React.Fragment>\n        )\n    }\n\n    renderTypeSettings() {\n\n\n        return (\n            <React.Fragment>\n\n                {this.deviceConfig.settingsGroups.map((settings) => {\n                    return (\n                        <TableRow>\n                            <TableCell colSpan={3}>\n                                <SettingsGroup deviceConnector={this.deviceConnector} settingsGroup={settings} />\n                            </TableCell>\n                        </TableRow>\n                    )\n                })}\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        {this.renderDetailsSetOptions()}\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        <Typography>Configuration Section</Typography>\n                    </TableCell>\n                </TableRow>\n\n                {Object.entries(this.deviceConfig.configuration).map(([commandGroupName, commandGroup]) => {\n                    return (\n                        <TableRow>\n                            <TableCell colSpan={3}>\n                                <CommandGroup groupType=\"Configuration\" commandGroupName={commandGroupName} commandGroup={commandGroup} deviceConnector={this.deviceConnector} />\n                            </TableCell>\n                        </TableRow>\n                    )\n                })}\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        <Typography>Commands Section</Typography>\n                    </TableCell>\n                </TableRow>\n\n                {Object.entries(this.deviceConfig.commands).map(([commandGroupName, commandGroup]) => {\n                    return (\n                        <TableRow>\n                            <TableCell colSpan={3}>\n                                <CommandGroup groupType=\"Commands\" commandGroupName={commandGroupName} commandGroup={commandGroup} deviceConnector={this.deviceConnector} />\n                            </TableCell>\n                        </TableRow>\n                    )\n                })}\n\n\n            </React.Fragment>\n        )\n    }\n\n    renderTypeDetails() {\n\n        return (\n            <React.Fragment>\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        {this.renderDetailsConnectivity()}\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        {this.renderDetailsGPIO()}\n                    </TableCell>\n                </TableRow>\n\n                {this.state.deviceInfo.status0Response.Status.Module === 0 ? (\n                    <TableRow>\n                        <TableCell colSpan={3}>\n                            {this.renderDetailsTemplate()}\n                        </TableCell>\n                    </TableRow>\n\n                )\n                    : null}\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        {this.renderDetailsSetOptions()}\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell align=\"left\"><Typography>Status Report</Typography></TableCell>\n                    <TableCell align=\"center\" colSpan={2}>\n                        <Button variant=\"contained\" key=\"copy-to-clipboard-button\" onClick={(event) => copyToClipboard(JSON.stringify(this.state.deviceInfo.status0Response, null, 2))}>Copy to clipboard</Button>\n                    </TableCell>\n                </TableRow>\n\n                <TableRow>\n                    <TableCell colSpan={3}>\n                        {this.renderDetailsStatuses()}\n                    </TableCell>\n                </TableRow>\n            </React.Fragment>\n        )\n    }\n\n    onFriendlyNameUpdatedCallback(oldName, newName) {\n        this.deviceConnector.performCommandOnDevice(`FriendlyName1 ${newName}`)\n    }\n\n    renderTypeSettingsAndDetails(renderType) {\n        return (\n            <React.Fragment>\n                <Box display=\"flex\" flexDirection=\"column\" flexGrow={1} justifyItems=\"center\" justifyContent=\"center\">\n                    <Box display=\"flex\" flexDirection=\"column\" flexWrap=\"wrap\" justifyContent=\"space-around\" alignItems=\"center\">\n                        <Paper align=\"center\" style={{ width: 200, height: 200 }}>\n                            {this.renderDetailsImage()}\n                        </Paper>\n                    </Box>\n                    <Table size=\"medium\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell colSpan={2}></TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell align=\"left\"><Typography>FriendlyName</Typography></TableCell>\n                                <TableCell align=\"center\" colSpan={2}>\n                                    <EditableSetting settingUpdatedCallback={this.onFriendlyNameUpdatedCallback.bind(this)} currentValue={this.state.deviceInfo.status0Response.Status.FriendlyName[0]} />\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\"><Typography>Relays</Typography></TableCell>\n                                <TableCell align=\"center\" colSpan={2}>{this.renderDetailsControlsButtons('Table')}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell align=\"left\"><Typography>Light Controls</Typography></TableCell>\n                                <TableCell align=\"center\" colSpan={2}>{this.renderDetailsControlsDimmers('Table')}</TableCell>\n                            </TableRow>\n\n                            {renderType === 'Details' ? this.renderTypeDetails() : null}\n                            {renderType === 'Settings' ? this.renderTypeSettings() : null}\n\n                        </TableBody>\n                    </Table>\n\n                </Box>\n            </React.Fragment>\n        )\n    }\n\n    render() {\n        // console.log('Tasmota Device renderType : %s', this.props.renderType)\n        switch (this.props['renderType']) {\n            case 'List':\n                return this.renderTypeList();\n\n            case 'Settings':\n            case 'Details':\n                return this.renderTypeSettingsAndDetails(this.props.renderType);\n\n            case 'Table_Status':\n                return this.renderTypeTableStatusRow();\n\n            case 'Table_Health':\n                return this.renderTypeTableHealthRow();\n\n            case 'Table_WIFI':\n                return this.renderTypeTableWifiRow()\n\n            case 'Table_Mqtt':\n                return this.renderTypeTableMqttRow()\n\n            case 'Table_Firmware':\n                return this.renderTypeTableFirmwareRow()\n\n\n            default:\n                return (\n                    <Typography>\n                        {/* {this.state.displayName} RenderType : {this.props.renderType} */}\n                    </Typography>\n                )\n                break\n        }\n    }\n}\n\nexport default withStyles(styles)(TasmotaDevice);","export default function(text) {\n    const el = document.createElement('textarea');\n    el.value = text\n    el.setAttribute('readonly', '');\n    el.style.position = 'absolute';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n}","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Table from '@material-ui/core/Table';\nimport Box from '@material-ui/core/Box';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\nimport React from 'react';\nimport TasmotaDevice from '../DeviceTypes/TasmotaDevice';\nimport ActionButton from './ActionButton';\n\nclass DeviceList extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    renderItems() {\n        switch (this.props.displayMode) {\n            case \"List\":\n                return this.renderTypeList()\n\n            case \"Table_Status\":\n            case \"Table_Health\":\n            case \"Table_WIFI\":\n            case \"Table_Mqtt\":\n            case \"Table_Firmware\":\n                return this.renderTypeTable()\n\n            case \"Card\":\n                return this.renderTypeCard()\n\n        }\n    }\n\n    renderTypeList() {\n\n        return Object.keys(this.props.devices).map((mac, index) => {\n            let buttons = (\n                <div>\n                    {this.renderButton(\"Details\", \"details\", (event) => this.openDeviceDetails(mac, event), <SettingsApplicationsIcon />)}\n                    {this.renderButton(\"Delete\", \"delete\", (event) => this.deleteDevice(mac, event), <DeleteIcon />)}\n                </div>\n            )\n\n            return (\n                <ExpansionPanel key={mac}>\n                    <ExpansionPanelSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        aria-controls=\"panel1c-content\"\n                        id=\"panel1c-header\"\n                    >\n                        <TasmotaDevice macAddress={mac} renderType={this.state.displayMode} deviceManager={this.props.deviceManager} actionButtons={buttons} />\n                    </ExpansionPanelSummary>\n                </ExpansionPanel>\n            )\n        })\n    }\n\n    renderTypeCard() {\n        return Object.keys(this.props.devices).map((mac, index) => {\n            return (\n                <TasmotaDevice macAddress={mac} renderType={this.props.displayMode} deviceManager={this.props.deviceManager} />\n            )\n        })\n    }\n\n    renderTableHeaderStatus() {\n        return (\n            <TableRow>\n                <TableCell align=\"center\">Friendly Name</TableCell>\n                <TableCell />\n                <TableCell>Module</TableCell>\n                <TableCell>Power</TableCell>\n                <TableCell>Light Controls</TableCell>\n            </TableRow>\n        )\n    }\n\n\n    renderTableHeaderHealth() {\n        return (\n            <TableRow>\n                <TableCell>Friendly Name</TableCell>\n                <TableCell />\n                <TableCell>RSSI</TableCell>\n                <TableCell>Uptime</TableCell>\n                <TableCell>Mqtt Count</TableCell>\n                <TableCell>Link Count</TableCell>\n                <TableCell>Downtime</TableCell>\n                <TableCell>Version</TableCell>\n                <TableCell>Core</TableCell>\n                <TableCell>Boot Count</TableCell>\n                <TableCell>Restart Reason</TableCell>\n                <TableCell>LoadAvg</TableCell>\n                <TableCell>Sleep</TableCell>\n            </TableRow>\n        )\n    }\n\n\n    renderTableHeaderFirmware() {\n        return (\n            <TableRow>\n                <TableCell>Friendly Name</TableCell>\n                <TableCell />\n                <TableCell>Version</TableCell>\n                <TableCell>Core</TableCell>\n                <TableCell>SDK</TableCell>\n                <TableCell>Program Size</TableCell>\n                <TableCell>Free</TableCell>\n                <TableCell>OtaURL</TableCell>\n            </TableRow>\n        )\n    }\n\n    renderTableHeaderWifi() {\n        return (\n            <TableRow>\n                <TableCell>Friendly Name</TableCell>\n                <TableCell />\n                <TableCell>RSSI</TableCell>\n                <TableCell>WifiPower</TableCell>\n                <TableCell>BSSID</TableCell>\n                <TableCell>Link Count</TableCell>\n                <TableCell>Downtime</TableCell>\n                <TableCell>Hostname</TableCell>\n                <TableCell>Mac Address</TableCell>\n                <TableCell>IP Address</TableCell>\n                <TableCell>Gateway</TableCell>\n                <TableCell>SSID</TableCell>\n                <TableCell>Channel</TableCell>\n            </TableRow>\n        )\n    }\n\n\n    renderTableHeaderMqtt() {\n        return (\n            <TableRow>\n                <TableCell>Friendly Name</TableCell>\n                <TableCell />\n                <TableCell>RSSI</TableCell>\n                <TableCell>Mqtt Count</TableCell>\n                <TableCell>Topic</TableCell>\n                <TableCell>Full Topic</TableCell>\n                <TableCell>Command Topic</TableCell>\n                <TableCell>Stat Topic</TableCell>\n                <TableCell>Tele Topic</TableCell>\n                <TableCell>Fallback Topic</TableCell>\n                <TableCell>Group Topic</TableCell>\n                <TableCell>Mqtt Host</TableCell>\n                <TableCell>Mqtt Port</TableCell>\n                <TableCell>Mqtt Client</TableCell>\n            </TableRow>\n        )\n    }\n    renderTableHeader() {\n        // console.log(this.props.displayMode)\n        switch (this.props.displayMode) {\n            case 'Table_Status':\n                return this.renderTableHeaderStatus()\n\n            case 'Table_Health':\n                return this.renderTableHeaderHealth()\n\n            case 'Table_WIFI':\n                return this.renderTableHeaderWifi()\n\n            case 'Table_Mqtt':\n                return this.renderTableHeaderMqtt()\n\n            case 'Table_Firmware':\n                return this.renderTableHeaderFirmware()\n\n        }\n    }\n\n    renderTypeTable() {\n        return (\n\n            <Table stickyHeader aria-label=\"simple table\" >\n                {Object.keys(this.props.deviceSections).map((section, index) => {\n                    return (\n                        <React.Fragment>\n                            {Object.keys(this.props.deviceSections[section].devices).length > 0 ?\n                                <TableRow><h3>{section}</h3></TableRow> : null}\n\n                            {index === 0 ?\n                                <TableHead>\n                                    {this.renderTableHeader()}\n                                </TableHead>\n                                : null}\n                            <TableBody>\n                                {Object.keys(this.props.deviceSections[section].devices).map((mac, index) => {\n                                    let buttons = this.props.deviceSections[section].itemButtons.map((button, index) => {\n                                        return (\n                                            <ActionButton\n                                                key={mac + button.label}\n                                                toolTip={button.toolTip}\n                                                label={button.label}\n                                                icon={button.icon}\n                                                onButtonClick={(event) => button.onButtonClick(mac, event)}\n                                            />\n                                        )\n                                    })\n\n                                    return <TasmotaDevice key={mac} macAddress={mac} renderType={this.props.displayMode} deviceManager={this.props.deviceManager} actionButtons={buttons} />\n                                })\n                                }\n                            </TableBody>\n                        </React.Fragment>\n                    )\n                })}\n\n            </Table>\n        )\n    }\n\n    render() {\n        return this.renderItems()\n    }\n}\nexport default DeviceList","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport Box from '@material-ui/core/Box';\nimport HealingIcon from '@material-ui/icons/Healing';\nimport SettingsInputAntennaIcon from '@material-ui/icons/SettingsInputAntenna';\nimport SystemUpdateAltIcon from '@material-ui/icons/SystemUpdateAlt';\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport WifiIcon from '@material-ui/icons/Wifi';\nimport ActionButton from './ActionButton'\n\nclass DisplayModeButtons extends React.Component {\n\n    render() {\n        return (\n            <Box display=\"flex\" flexGrow={1} justifyContent=\"flex-start\">\n                <ActionButton\n                    toolTip=\"Status View\"\n                    label=\"status\"\n                    icon={<TableChartIcon />}\n                    onButtonClick={() => this.props.setState({ displayMode: \"Table_Status\" })}\n                    selected={this.props.displayMode === \"Table_Status\"}\n                    selectedIcon={<TableChartIcon color=\"primary\" />}\n                />\n\n                <ActionButton\n                    toolTip=\"Health View\"\n                    label=\"health\"\n                    icon={<HealingIcon />}\n                    onButtonClick={() => this.props.setState({ displayMode: \"Table_Health\" })}\n                    selected={this.props.displayMode === \"Table_Health\"}\n                    selectedIcon={<HealingIcon color=\"primary\" />}\n                />\n\n                <ActionButton\n                    toolTip=\"Firmware View\"\n                    label=\"firmware\"\n                    icon={<SystemUpdateAltIcon />}\n                    onButtonClick={() => this.props.setState({ displayMode: \"Table_Firmware\" })}\n                    selected={this.props.displayMode === \"Table_Firmware\"}\n                    selectedIcon={<SystemUpdateAltIcon color=\"primary\" />}\n                />\n\n\n                <ActionButton\n                    toolTip=\"Wifi View\"\n                    label=\"wifi\"\n                    icon={<WifiIcon />}\n                    onButtonClick={() => this.props.setState({ displayMode: \"Table_WIFI\" })}\n                    selected={this.props.displayMode === \"Table_WIFI\"}\n                    selectedIcon={<WifiIcon color=\"primary\" />}\n                />\n\n                <ActionButton\n                    toolTip=\"Mqtt View\"\n                    label=\"MQTT\"\n                    icon={<SettingsInputAntennaIcon />}\n                    onButtonClick={() => this.props.setState({ displayMode: \"Table_Mqtt\" })}\n                    selected={this.props.displayMode === \"Table_Mqtt\"}\n                    selectedIcon={<SettingsInputAntennaIcon color=\"primary\" />}\n                />\n\n            </Box>)\n    }\n}\n\nexport default DisplayModeButtons","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\nimport React from 'react';\nimport DeviceList from '../Components/DeviceList';\nimport DisplayTypeButtons from '../Components/DisplayModeButtons';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CallToActionIcon from '@material-ui/icons/CallToAction';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\n\nclass Devices extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            devices: this.props.deviceManager.getDevices(),\n            displayMode: this.props.appConfig.getAppConfig('device_view_mode') || \"Table_Status\",\n        }\n    }\n\n    buttons = [{\n        toolTip: \"Details\",\n        label: \"details\",\n        icon: <InfoIcon />,\n        onButtonClick: (mac, event) => this.openDeviceDetails(mac, event),\n    }, {\n        toolTip: \"Settings\",\n        label: \"settings\",\n        icon: <SettingsApplicationsIcon />,\n        onButtonClick: (mac, event) => this.openDeviceSettings(mac, event),\n    }, {\n        toolTip: \"Console\",\n        label: \"console\",\n        icon: <CallToActionIcon />,\n        onButtonClick: (mac, event) => this.openDeviceConsole(mac, event),\n    }, {\n        toolTip: \"WebUI\",\n        label: \"webui\",\n        icon: <OpenInBrowserIcon />,\n        onButtonClick: (mac, event) => this.openWebUI(mac, event),\n    }, {\n        toolTip: \"Delete\",\n        label: \"delete\",\n        icon: <DeleteIcon />,\n        onButtonClick: (mac, event) => this.deleteDevice(mac, event),\n    }]\n\n    openDeviceDetails = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/details/' + macAddress);\n    }\n\n    openDeviceSettings = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/settings/' + macAddress);\n    }\n\n    openDeviceConsole = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/console/' + macAddress);\n    }\n\n    openWebUI  = (macAddress, event) => {\n        event.stopPropagation();\n        let ip = this.props.deviceManager.getDevice(macAddress).status0Response.StatusNET.IPAddress\n        window.open(`http://${ip}`)\n    }\n\n    deleteDevice = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.deviceManager.removeDevice(macAddress);\n        const newDevices = this.props.deviceManager.getDevices();\n        this.setState({\n            devices: newDevices\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevState.displayMode !== this.state.displayMode) {\n            this.props.appConfig.putAppConfig('device_view_mode', this.state.displayMode)\n        }\n    }\n\n    componentDidMount() {\n        window.gtag('event', 'Devices', { 'value' : this.state.displayMode });\n        window.gtag('event', 'screen_view', { 'screen_name': 'Devices'});\n    }\n\n    render() {\n\n        return (\n            <Box display=\"flex\" flexGrow={1} flexDirection=\"column\" style={{ overflow: \"visible\", position: \"absolute\" }}>\n                <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n                    <h1>Devices</h1>\n                    <DisplayTypeButtons displayMode={this.state.displayMode} setState={(state) => this.setState(state)} />\n                </Box>\n                <DeviceList\n                    displayMode={this.state.displayMode}\n                    deviceSections={{ \"\": { devices: this.state.devices, itemButtons: this.buttons } }}\n                    deviceManager={this.props.deviceManager}\n                />\n\n            </Box>\n        );\n    }\n}\nexport default Devices","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport superagent from 'superagent';\n\nconst commands = {\n    Status0: 'Status 0',\n    State: 'State',\n    Status8: 'Status 8',\n    Module: 'Module',\n    WifiPower: 'WifiPower',\n}\n\nclass TasmotaDeviceConnector {\n\n    deviceIPAddress = \"\";\n    deviceListeners = [];\n    timer = null;\n    // responseMap = [{}];\n\n    constructor(ipAddress, authInfo) {\n        this.deviceIPAddress = ipAddress;\n        this.online = false;\n        this.authInfo = authInfo\n    }\n\n    updateIpAddress(ipAddress) {\n        if (this.deviceIPAddress !== ipAddress) {\n            this.deviceIPAddress = ipAddress\n            this.requestDeviceStatus()\n        }\n    }\n\n    connect(listener) {\n        let index = this.deviceListeners.indexOf(listener)\n        if (index === -1) {\n            this.deviceListeners.push(listener);\n        }\n\n        if (this.deviceListeners.length === 1) {\n            this.resume();\n        }\n    }\n\n    disconnect(listener) {\n        let index = this.deviceListeners.indexOf(listener)\n        if (index !== -1) {\n            this.deviceListeners.splice(index, 1)\n        }\n\n        if (this.deviceListeners.length === 0) {\n            this.pause();\n        }\n    }\n\n    disconnectAll() {\n        this.deviceListeners.forEach((listener) => {\n            this.disconnect(listener)\n        })\n    }\n\n    pause() {\n        if (this.timer) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n\n    resume() {\n        this.pause(); // Clear previous Timer\n        this.timer = setInterval(this.requestDeviceStatus.bind(this), 15000);\n        this.getStatus0();\n    }\n\n    requestDeviceStatus() {\n        this.getState()\n    }\n\n    getStatus0() {\n        this.performCommandOnDeviceDirect(commands.Status0);\n    }\n\n    getWifiPower() {\n        this.performCommandOnDeviceDirect(commands.WifiPower);\n    }\n\n    getModule() {\n        this.performCommandOnDeviceDirect(commands.Module);\n    }\n\n    getState() {\n        this.performCommandOnDeviceDirect(commands.State);\n    }\n\n    getStatus8() {\n        this.performCommandOnDeviceDirect(commands.Status8);\n    }\n\n    onCommandResponse(args) {\n        if (args.key === commands.State || args.key === commands.Status0) {\n            this.online = args.success\n        }\n        console.log(`Command ${args.key} Url : ${args.url} Response: %O`, args.response ? args.response.body : null)\n        this.deviceListeners.forEach(function (deviceListener, index) {\n            deviceListener.onCommandResponse(args.key, args.success, args.success ? args.response.body : null)\n        });\n\n        if (!args.success) {\n            console.log(`Command ${args.key} failed. Url : ${args.url} Response: %O`, args.response)\n        }\n\n        if (args.key === commands.State) {\n            this.getStatus8()\n        } else if (args.key === commands.Status0) {\n            this.getModule()\n        } else if (args.key === commands.Module) {\n            this.getWifiPower()\n        }\n    }\n\n    performCommandOnDevice(cmnd) {\n        this.performCommandOnDeviceDirect(cmnd);\n        this.getStatus0();\n    }\n\n    performCommandOnDeviceDirect(cmnd) {\n        var callback = function (err, response) {\n            // console.log (\"Error : %O Response : %O\", err, response);\n            this.onCommandResponse({ key: this.cmnd, response: response, error: err, url: this.url, ip: this.ip, success: err ? false : true });\n        }\n        let url = 'http://' + this.deviceIPAddress + '/cm?cmnd=' + encodeURIComponent(cmnd);\n\n        if (this.authInfo) {\n            url += `&user=${encodeURIComponent(this.authInfo.username)}&password=${encodeURIComponent(this.authInfo.password)}`\n        }\n\n        superagent.get(url)\n            .timeout({\n                response: 5000,  // Wait 5 seconds for the server to start sending,\n                deadline: 60000, // but allow 1 minute for the file to finish loading.\n            })\n            .end(callback.bind({ onCommandResponse: this.onCommandResponse.bind(this), ip: this.deviceIPAddress, url: url, cmnd: cmnd }))\n    }\n}\n\nexport default TasmotaDeviceConnector;","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport Commands from './Commands.json'\n\nconst TasmotaConfig_06070000 = {\n    setOptionsStatusMaps: [{\n        structName: \"SysBitfield\",\n        setOptionStart: 0,\n        bitSize: 1,\n        items: [\n            {\n                name: 'save_state',\n                description: 'Save power state and use after restart',\n            }, {\n                name: 'button_restrict',\n                description: 'Control button multipress',\n            }, {\n                name: 'ex_value_units',\n                description: 'Add units to JSON messages',\n            }, {\n                name: 'mqtt_enabled',\n                description: 'Control MQTT',\n            }, {\n                name: 'mqtt_response',\n                description: 'Switch between MQTT Result or Command',\n            }, {\n                name: 'mqtt_power_retain',\n                description: '',\n            }, {\n                name: 'mqtt_button_retain',\n                description: '',\n            }, {\n                name: 'mqtt_switch_retain',\n                description: '',\n            }, {\n                name: 'temperature_conversion',\n                description: 'Switch between Celsius or Fahreheit',\n            }, {\n                name: 'mqtt_sensor_retain',\n                description: 'CMDN_SENSORRETAIN',\n            }, {\n                name: 'mqtt_offline',\n                description: 'Control MQTT LWT message format',\n            }, {\n                name: 'button_swap',\n                description: 'Swap button single and double press functionality',\n            }, {\n                name: 'stop_flash_rotate',\n                description: 'Switch between dynamic or fixed slot flash save location',\n            }, {\n                name: 'button_single',\n                description: 'Support only single press to speed up button press recognition',\n            }, {\n                name: 'interlock',\n                description: '',\n            }, {\n                name: 'pwm_control',\n                description: 'Switch between commands PWM or COLOR/DIMMER/CT/CHANNEL',\n            }, {\n                name: 'ws_clock_reverse',\n                description: 'Set addressable LED Clock scheme parameter',\n            }, {\n                name: 'decimal_text',\n                description: 'Switch between decimal or hexadecimal output',\n            }, {\n                name: 'light_signal',\n                description: 'Pair light signal with CO2 sensor',\n            }, {\n                name: 'hass_discovery',\n                description: 'Control Home Assistant Automatic discovery',\n            }, {\n                name: 'not_power_linked',\n                description: 'Control power in relation fo Dimmer/Color/CT changes',\n            }, {\n                name: 'no_power_on_check',\n                description: 'Show voltage even if powered off',\n            }, {\n                name: 'mqtt_serial',\n                description: '',\n            }, {\n                name: 'mqtt_serial_raw',\n                description: '',\n            }, {\n                name: 'pressure_conversion',\n                description: 'Switch between hPa or mmHg pressure unit',\n            }, {\n                name: 'knx_enabled',\n                description: '',\n            }, {\n                name: 'device_index_enable',\n                description: 'Switch between POWER or POWER1',\n            }, {\n                name: 'knx_enable_enhancement',\n                description: '',\n            }, {\n                name: 'rf_receive_decimal',\n                description: 'RF Receive data format',\n            }, {\n                name: 'ir_receive_decimal',\n                description: 'IR Receive data format',\n            }, {\n                name: 'hass_light',\n                description: 'Enforce HASS Autodiscovery as light',\n            }, {\n                name: 'global_state',\n                description: 'Control link led blinking',\n            }\n        ]\n    }, {\n        structName: \"SysBitfield2\",\n        setOptionStart: 32,\n        bitSize: 1,\n        items: [],\n    }, {\n        structName: \"SysBitfield3\",\n        setOptionStart: 50,\n        bitSize: 1,\n        items: [\n            {\n                name: 'timers_enable',\n                description: '',\n            }, {\n                name: 'user_esp8285_enable',\n                description: 'Enable ESP8285 User GPIOs',\n            }, {\n                name: 'time_append_timezone',\n                description: 'Append timezone to JSON time',\n            }, {\n                name: 'gui_hostname_ip',\n                description: 'Show hostname and IP address in GUI main menu',\n            }, {\n                name: 'tuya_apply_o20',\n                description: 'Apple SetOption20 settings to Tuya device',\n            }, {\n                name: 'mdns_enabled',\n                description: 'Control mDNS Service',\n            }, {\n                name: 'use_wifi_scan',\n                description: 'Scan wifi network at restart for configured APs',\n            }, {\n                name: 'use_wifi_rescan',\n                description: 'Scan wifi network every 44 minutes for configured APs',\n            }, {\n                name: 'receive_raw',\n                description: 'Add IR Raw data to JSON message',\n            }, {\n                name: 'hass_tele_on_power',\n                description: 'Send tele/%topic%/STATE in addition to stat/%topic%/RESULT',\n            }, {\n                name: 'sleep_normal',\n                description: 'Enable normal sleep instead of dynamic sleep',\n            }, {\n                name: 'button_switch_force_local',\n                description: 'Force local operation when button/switch topic is set',\n            }, {\n                name: 'no_hold_retain',\n                description: 'Don\\'t use retain flag on HOLD messages',\n            }, {\n                name: 'no_power_feedback',\n                description: 'Don\\'t scan relay power state at restart',\n            }, {\n                name: 'use_underscore',\n                description: 'Enable \"_\" instead of \"=\" as sensor index separator',\n            }, {\n                name: 'fast_power_cycle_disable',\n                description: 'Disable fast power cycle detection for device reset',\n            }, {\n                name: 'tuya_serial_mqtt_publish',\n                description: 'Enable TuyaReceived messages over Mqtt',\n            }, {\n                name: 'buzzer_enable',\n                description: 'Enable buzzer when available',\n            }, {\n                name: 'pwm_multi_channels',\n                description: 'Enable multi-channels PWM instead of Color PWM',\n            }, {\n                name: 'ex_tuya_dimmer_min_limit',\n                description: '',\n            }, {\n                name: 'energy_weekend',\n                description: '',\n            }, {\n                name: 'dds2382_model',\n                description: 'Select different Modbus registers for Active Energy',\n            }, {\n                name: 'hardware_energy_total',\n                description: 'Enable / Disable hardware energy total counter as reference',\n            }, {\n                name: 'cors_enabled',\n                description: 'Enable HTTP CORS',\n            }, {\n                name: 'ds18x20_internal_pullup',\n                description: 'Enable internal pullip for single DS18x20 sensor',\n            }, {\n                name: 'grouptopic_mode',\n                description: 'GroupTopic replaces %topic% (0) or fixed topic cmnd/grouptopic(1)',\n            }, {\n                name: 'spare26',\n                description: '',\n            }, {\n                name: 'spare27',\n                description: '',\n            }, {\n                name: 'spare28',\n                description: '',\n            }, {\n                name: 'spare29',\n                description: '',\n            }, {\n                name: 'shutter_mode',\n                description: 'Enable shutter support',\n            }, {\n                name: 'pcf8574_ports_inverted',\n                description: 'Invert all ports on PCF8574 devices',\n            }\n        ]\n    }, {\n        structName: \"SysBitfield4\",\n        setOptionStart: 82,\n        bitSize: 1,\n        items: [\n            {\n                name: 'spare00',\n                description: '',\n            }, {\n                name: 'spare01',\n                description: '',\n            }, {\n                name: 'spare02',\n                description: '',\n            }, {\n                name: 'spare03',\n                description: '',\n            }, {\n                name: 'spare04',\n                description: '',\n            }, {\n                name: 'spare05',\n                description: '',\n            }, {\n                name: 'spare06',\n                description: '',\n            }, {\n                name: 'spare07',\n                description: '',\n            }, {\n                name: 'spare08',\n                description: '',\n            }, {\n                name: 'spare09',\n                description: '',\n            }, {\n                name: 'spare10',\n                description: '',\n            }, {\n                name: 'spare11',\n                description: '',\n            }, {\n                name: 'spare12',\n                description: '',\n            }, {\n                name: 'spare13',\n                description: '',\n            }, {\n                name: 'spare14',\n                description: '',\n            }, {\n                name: 'spare15',\n                description: '',\n            }, {\n                name: 'spare16',\n                description: '',\n            }, {\n                name: 'spare17',\n                description: '',\n            }, {\n                name: 'spare18',\n                description: '',\n            }, {\n                name: 'spare19',\n                description: '',\n            }, {\n                name: 'spare20',\n                description: '',\n            }, {\n                name: 'spare21',\n                description: '',\n            }, {\n                name: 'spare22',\n                description: '',\n            }, {\n                name: 'spare23',\n                description: '',\n            }, {\n                name: 'spare24',\n                description: '',\n            }, {\n                name: 'spare25',\n                description: '',\n            }, {\n                name: 'spare26',\n                description: '',\n            }, {\n                name: 'spare27',\n                description: '',\n            }, {\n                name: 'spare28',\n                description: '',\n            }, {\n                name: 'spare29',\n                description: '',\n            }, {\n                name: 'spare30',\n                description: '',\n            }, {\n                name: 'spare31',\n                description: '',\n            }\n        ]\n    }],\n    settingsGroups: [{\n        groupName: \"Mqtt Settings\",\n        settings: [{\n            name: 'Mqtt Host',\n            command: 'MqttHost',\n        }, {\n            name: 'Mqtt User',\n            command: 'MqttUser',\n        }, {\n            name: 'Mqtt Password',\n            command: 'MqttPassword',\n        }]\n    }, {\n        groupName: \"Wifi Settings\",\n        settings: [{\n            name: 'Ssid 1',\n            command: 'Ssid1',\n        }, {\n            name: 'Password 1',\n            command: 'Password1',\n        }, {\n            name: 'Ssid 2',\n            command: 'Ssid2',\n        }, {\n            name: 'Password 2',\n            command: 'Password2',\n        }, {\n            name: 'Hostname',\n            command: 'Hostname',\n        }]\n        // } ,{\n        //     groupName: 'Rules',\n        //     settings: [{\n        //         name: 'Rule 1',\n        //         command: 'Rule1',\n        //     },{\n        //         name: 'Rule 2',\n        //         command: 'Rule2'\n        //     },{\n        //         name: 'Rule 3',\n        //         command: 'Rule3'\n        //     }]\n    }],\n    moduleResponseFormatter: function (moduleResponse) {\n        if (typeof moduleResponse.Module === 'object') {\n            let key = Object.keys(moduleResponse.Module)[0]\n            return `${key} (${moduleResponse.Module[key]})`\n        } else {\n            return moduleResponse.Module\n        }\n    },\n    gpioResponseFormatter: function (gpioResponse) {\n        return Object.keys(gpioResponse).map((gpio, index) => {\n            if (typeof gpioResponse[gpio] === 'object') {\n                var key = Object.keys(gpioResponse[gpio])[0]\n                return { gpio: gpio, gpioInfo: `${key} ( ${gpioResponse[gpio][key]} )` }\n            } else {\n                return { gpio: gpio, gpioInfo: gpioResponse[gpio] }\n            }\n        })\n    },\n    commands: Commands,\n    configuration: {\n        Button: {\n            ButtonDebounce: Commands.Control.ButtonDebounce,\n            ButtonRetain: Commands.MQTT.ButtonRetain,\n            SetOption11: Commands.SetOptions.SetOption11,\n            SetOption13: Commands.SetOptions.SetOption13,\n            SetOption32: Commands.SetOptions.SetOption32,\n            SetOption40: Commands.SetOptions.SetOption40,\n            SetOption61: Commands.SetOptions.SetOption61,\n        },\n        Switch: {\n            SwitchDebounce: Commands.Control.ButtonDebounce,\n            SwitchRetain: Commands.MQTT.ButtonRetain,\n            'SwitchMode<x>': Commands.Control['SwitchMode<x>'],\n            SetOption32: Commands.SetOptions.SetOption32,\n        },\n        Relay: {\n            BlinkCount: Commands.Control.BlinkCount,\n            BlinkTime: Commands.Control.BlinkTime,\n            PowerOnState: Commands.Control.PowerOnState,\n            PowerRetain: Commands.MQTT.PowerRetain,\n            Interlock: Commands.Control.Interlock,\n            'PusleTime<x>': Commands.Control['PulseTime<x>'],\n            SetOption0: Commands.SetOptions.SetOption0,\n            SetOption26: Commands.SetOptions.SetOption26,\n            SetOption63: Commands.SetOptions.SetOption63,\n        }\n    }\n\n}\n\nexport default TasmotaConfig_06070000","import TasmotaConfig_06070000 from './TasmotaConfig-6.7.0.0'\n\nfunction updatedConfig() {\n\n    let TasmotaConfig_07010200 = {\n        settingsGroups: TasmotaConfig_06070000.settingsGroups,\n        moduleResponseFormatter: TasmotaConfig_06070000.moduleResponseFormatter,\n        gpioResponseFormatter: TasmotaConfig_06070000.gpioResponseFormatter,\n        commands: {},\n        configuration: TasmotaConfig_06070000.configuration,\n    }\n\n    TasmotaConfig_07010200.setOptionsStatusMaps =\n        [{\n            structName: \"SysBitfield\",\n            setOptionStart: 0,\n            bitSize: 1,\n            items: [\n                {\n                    name: 'save_state',\n                    description: 'Save power state and use after restart',\n                }, {\n                    name: 'button_restrict',\n                    description: 'Control button multipress',\n                }, {\n                    name: 'ex_value_units',\n                    description: 'Add units to JSON messages',\n                }, {\n                    name: 'mqtt_enabled',\n                    description: 'Control MQTT',\n                }, {\n                    name: 'mqtt_response',\n                    description: 'Switch between MQTT Result or Command',\n                }, {\n                    name: 'mqtt_power_retain',\n                    description: '',\n                }, {\n                    name: 'mqtt_button_retain',\n                    description: '',\n                }, {\n                    name: 'mqtt_switch_retain',\n                    description: '',\n                }, {\n                    name: 'temperature_conversion',\n                    description: 'Switch between Celsius or Fahreheit',\n                }, {\n                    name: 'mqtt_sensor_retain',\n                    description: 'CMDN_SENSORRETAIN',\n                }, {\n                    name: 'mqtt_offline',\n                    description: 'Control MQTT LWT message format',\n                }, {\n                    name: 'button_swap',\n                    description: 'Swap button single and double press functionality',\n                }, {\n                    name: 'stop_flash_rotate',\n                    description: 'Switch between dynamic or fixed slot flash save location',\n                }, {\n                    name: 'button_single',\n                    description: 'Support only single press to speed up button press recognition',\n                }, {\n                    name: 'interlock',\n                    description: '',\n                }, {\n                    name: 'pwm_control',\n                    description: 'Switch between commands PWM or COLOR/DIMMER/CT/CHANNEL',\n                }, {\n                    name: 'ws_clock_reverse',\n                    description: 'Set addressable LED Clock scheme parameter',\n                }, {\n                    name: 'decimal_text',\n                    description: 'Switch between decimal or hexadecimal output',\n                }, {\n                    name: 'light_signal',\n                    description: 'Pair light signal with CO2 sensor',\n                }, {\n                    name: 'hass_discovery',\n                    description: 'Control Home Assistant Automatic discovery',\n                }, {\n                    name: 'not_power_linked',\n                    description: 'Control power in relation fo Dimmer/Color/CT changes',\n                }, {\n                    name: 'no_power_on_check',\n                    description: 'Show voltage even if powered off',\n                }, {\n                    name: 'mqtt_serial',\n                    description: '',\n                }, {\n                    name: 'mqtt_serial_raw',\n                    description: '',\n                }, {\n                    name: 'pressure_conversion',\n                    description: 'Switch between hPa or mmHg pressure unit',\n                }, {\n                    name: 'knx_enabled',\n                    description: '',\n                }, {\n                    name: 'device_index_enable',\n                    description: 'Switch between POWER or POWER1',\n                }, {\n                    name: 'knx_enable_enhancement',\n                    description: '',\n                }, {\n                    name: 'rf_receive_decimal',\n                    description: 'RF Receive data format',\n                }, {\n                    name: 'ir_receive_decimal',\n                    description: 'IR Receive data format',\n                }, {\n                    name: 'hass_light',\n                    description: 'Enforce HASS Autodiscovery as light',\n                }, {\n                    name: 'global_state',\n                    description: 'Control link led blinking',\n                }\n            ]\n        }, {\n            structName: \"SysBitfield2\",\n            setOptionStart: 32,\n            bitSize: 1,\n            items: [],\n        }, {\n            structName: \"SysBitfield3\",\n            setOptionStart: 50,\n            bitSize: 1,\n            items: [\n                {\n                    name: 'timers_enable',\n                    description: '',\n                }, {\n                    name: 'user_esp8285_enable',\n                    description: 'Enable ESP8285 User GPIOs',\n                }, {\n                    name: 'time_append_timezone',\n                    description: 'Append timezone to JSON time',\n                }, {\n                    name: 'gui_hostname_ip',\n                    description: 'Show hostname and IP address in GUI main menu',\n                }, {\n                    name: 'tuya_apply_o20',\n                    description: 'Apple SetOption20 settings to Tuya device',\n                }, {\n                    name: 'mdns_enabled',\n                    description: 'Control mDNS Service',\n                }, {\n                    name: 'use_wifi_scan',\n                    description: 'Scan wifi network at restart for configured APs',\n                }, {\n                    name: 'use_wifi_rescan',\n                    description: 'Scan wifi network every 44 minutes for configured APs',\n                }, {\n                    name: 'receive_raw',\n                    description: 'Add IR Raw data to JSON message',\n                }, {\n                    name: 'hass_tele_on_power',\n                    description: 'Send tele/%topic%/STATE in addition to stat/%topic%/RESULT',\n                }, {\n                    name: 'sleep_normal',\n                    description: 'Enable normal sleep instead of dynamic sleep',\n                }, {\n                    name: 'button_switch_force_local',\n                    description: 'Force local operation when button/switch topic is set',\n                }, {\n                    name: 'no_hold_retain',\n                    description: 'Don\\'t use retain flag on HOLD messages',\n                }, {\n                    name: 'no_power_feedback',\n                    description: 'Don\\'t scan relay power state at restart',\n                }, {\n                    name: 'use_underscore',\n                    description: 'Enable \"_\" instead of \"=\" as sensor index separator',\n                }, {\n                    name: 'fast_power_cycle_disable',\n                    description: 'Disable fast power cycle detection for device reset',\n                }, {\n                    name: 'tuya_serial_mqtt_publish',\n                    description: 'Enable TuyaReceived messages over Mqtt',\n                }, {\n                    name: 'buzzer_enable',\n                    description: 'Enable buzzer when available',\n                }, {\n                    name: 'pwm_multi_channels',\n                    description: 'Enable multi-channels PWM instead of Color PWM',\n                }, {\n                    name: 'ex_tuya_dimmer_min_limit',\n                    description: '',\n                }, {\n                    name: 'energy_weekend',\n                    description: '',\n                }, {\n                    name: 'dds2382_model',\n                    description: 'Select different Modbus registers for Active Energy',\n                }, {\n                    name: 'hardware_energy_total',\n                    description: 'Enable / Disable hardware energy total counter as reference',\n                }, {\n                    name: 'cors_enabled',\n                    description: 'Enable HTTP CORS',\n                }, {\n                    name: 'ds18x20_internal_pullup',\n                    description: 'Enable internal pullip for single DS18x20 sensor',\n                }, {\n                    name: 'grouptopic_mode',\n                    description: 'GroupTopic replaces %topic% (0) or fixed topic cmnd/grouptopic(1)',\n                }, {\n                    name: 'bootcount_update',\n                    description: 'Enable incrementing bootcount when deepsleep is enabled',\n                }, {\n                    name: 'slider_dimmer_stay_on',\n                    description: 'Do not power off if slider moved to far left',\n                }, {\n                    name: 'spare28',\n                    description: '',\n                }, {\n                    name: 'spare29',\n                    description: '',\n                }, {\n                    name: 'shutter_mode',\n                    description: 'Enable shutter support',\n                }, {\n                    name: 'pcf8574_ports_inverted',\n                    description: 'Invert all ports on PCF8574 devices',\n                }\n            ]\n        }, {\n            structName: \"SysBitfield4\",\n            setOptionStart: 82,\n            bitSize: 1,\n            items: [\n                {\n                    name: 'spare00',\n                    description: '',\n                }, {\n                    name: 'spare01',\n                    description: '',\n                }, {\n                    name: 'spare02',\n                    description: '',\n                }, {\n                    name: 'spare03',\n                    description: '',\n                }, {\n                    name: 'spare04',\n                    description: '',\n                }, {\n                    name: 'spare05',\n                    description: '',\n                }, {\n                    name: 'spare06',\n                    description: '',\n                }, {\n                    name: 'spare07',\n                    description: '',\n                }, {\n                    name: 'spare08',\n                    description: '',\n                }, {\n                    name: 'spare09',\n                    description: '',\n                }, {\n                    name: 'spare10',\n                    description: '',\n                }, {\n                    name: 'spare11',\n                    description: '',\n                }, {\n                    name: 'spare12',\n                    description: '',\n                }, {\n                    name: 'spare13',\n                    description: '',\n                }, {\n                    name: 'spare14',\n                    description: '',\n                }, {\n                    name: 'spare15',\n                    description: '',\n                }, {\n                    name: 'spare16',\n                    description: '',\n                }, {\n                    name: 'spare17',\n                    description: '',\n                }, {\n                    name: 'spare18',\n                    description: '',\n                }, {\n                    name: 'spare19',\n                    description: '',\n                }, {\n                    name: 'spare20',\n                    description: '',\n                }, {\n                    name: 'spare21',\n                    description: '',\n                }, {\n                    name: 'spare22',\n                    description: '',\n                }, {\n                    name: 'spare23',\n                    description: '',\n                }, {\n                    name: 'spare24',\n                    description: '',\n                }, {\n                    name: 'spare25',\n                    description: '',\n                }, {\n                    name: 'spare26',\n                    description: '',\n                }, {\n                    name: 'spare27',\n                    description: '',\n                }, {\n                    name: 'spare28',\n                    description: '',\n                }, {\n                    name: 'spare29',\n                    description: '',\n                }, {\n                    name: 'spare30',\n                    description: '',\n                }, {\n                    name: 'spare31',\n                    description: '',\n                }\n            ]\n        }]\n\n\n    for(let commandType in TasmotaConfig_06070000.commands) {\n        TasmotaConfig_07010200.commands[commandType] = {}\n        for(let command in TasmotaConfig_06070000.commands[commandType]) {\n            TasmotaConfig_07010200.commands[commandType][command] = TasmotaConfig_06070000.commands[commandType][command]\n        }\n    }\n\n    TasmotaConfig_07010200.commands.SetOptions.SetOption77 = {\n        \"indexed\": false,\n        \"indexRange\": \"\",  \n        \"options\": [\n            {\n                \"display\": \"0\",\n                \"description\": \"disabled (default) \",\n                \"type\": \"select\"\n            },\n            {\n                \"display\": \"1\",\n                \"description\": \"enabled \",\n                \"type\": \"select\"\n            }\n        ],\n        \"description\": \"Do not power off if a slider is moved to far left\"\n    }\n\n\n    TasmotaConfig_07010200.commands.WiFi.CORS = {\n        \"indexed\": false,\n        \"indexRange\": \"\",  \n        \"options\": [\n            {\n                \"display\": \"\",\n                \"description\": \"disabled (default) \",\n                \"type\": \"select\"\n            },\n            {\n                \"display\": \"*\",\n                \"description\": \"enable CORS for all hosts\",\n                \"type\": \"select\"\n            },\n            {\n                \"display\": \"value\",\n                \"description\": \"Set CORS to specific host like http://tasui.shantur.com\",\n                \"type\": \"input\"\n            }\n        ],\n        \"description\": \"Enable/Disable Cross Origin Resource Sharing for a domain\"\n    }\n\n\n\n    return TasmotaConfig_07010200\n}\n\nexport let TasmotaConfig_07010200 = updatedConfig()","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport TasmotaConfig_06070000 from './TasmotaConfig-6.7.0.0'\nimport { TasmotaConfig_07010200 } from './TasmotaConfig-7.1.2.0'\n\nconst TasmotaVersionedConfig = {\n    TasmotaConfig_06070000: TasmotaConfig_06070000,\n    TasmotaConfig_07010200: TasmotaConfig_07010200,\n}\n\nfunction getConfigurationForVersion(version) {\n    if (version <= 0x06070000) {\n        return TasmotaVersionedConfig.TasmotaConfig_06070000\n    } else {\n\n        let versions = Object.keys(TasmotaVersionedConfig)\n        let closestVersion = 0xFFFFFFFF\n        let maximumVersion = -1\n\n        for (let i = 0; i < versions.length; i++) {\n            let availableVersion = parseInt(versions[i].replace('TasmotaConfig_', ''), 16)\n\n            if (availableVersion > maximumVersion) {\n                maximumVersion = availableVersion\n            }\n\n            if (availableVersion === version) {\n                closestVersion = availableVersion;\n                break\n            } else if (availableVersion > version) {\n                if (closestVersion > availableVersion) {\n                    closestVersion = availableVersion;\n                }\n            }\n        }\n\n        if (closestVersion === 0xFFFFFFFF) {\n            closestVersion = maximumVersion\n        }\n\n\n        return TasmotaVersionedConfig['TasmotaConfig_' + ('0000000' + closestVersion.toString(16).toUpperCase()).substr(-8)]\n    }\n}\n\nexport default getConfigurationForVersion","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport TasmotaDeviceConnector from '../DeviceTypes/TasmotaDeviceConnector';\nimport getConfigurationForVersion from '../Configuration/TasmotaVersionedConfig'\n\nclass DeviceManager {\n\n    deviceConnectors = {};\n\n\n    constructor() {\n        this.devices = \"devices\" in localStorage ? JSON.parse(localStorage.getItem('devices')) : {};\n        this.discoveredDevices = {};\n        Object.keys(this.devices).forEach((key) => {\n            if (!this.devices[key].status0Response) {\n                let oldInfo = Object.assign({}, this.devices[key])\n                this.devices[key] = { status0Response: oldInfo }\n            }\n        })\n\n        this.saveDevices()\n    }\n\n    getTasmotaConfig(macAddress) {\n        let deviceInfo = this.getDevice(macAddress)\n\n        let versionStr = deviceInfo.status0Response.StatusFWR.Version\n        versionStr = versionStr.substring(0, versionStr.indexOf('('))\n\n        let versionNumbers = versionStr.split('.')\n\n        let version = (parseInt(versionNumbers[0]) << 24) + (parseInt(versionNumbers[1]) << 16) + (parseInt(versionNumbers[2]) << 8) + (parseInt(versionNumbers[3]))\n\n        return getConfigurationForVersion(version)\n    }\n\n    addDevice(macAddress, deviceInfo) {\n        if (macAddress.length > 0) {\n            this.devices[macAddress] = deviceInfo\n            // if (this.discoveredDevices[macAddress]) {\n            //     delete this.discoveredDevices[macAddress]\n            // }\n            this.saveDevices()\n            return true;\n        }\n        return false;\n    }\n\n    saveDevices() {\n        localStorage.setItem('devices', JSON.stringify(this.devices));\n    }\n\n    addDiscoveredDevice(macAddress, status0Response) {\n        if (macAddress.length > 0) {\n            if (this.discoveredDevices[macAddress]) {\n                this.discoveredDevices[macAddress].status0Response = status0Response\n            } else {\n                this.discoveredDevices[macAddress] = {\n                    status0Response: status0Response,\n                }\n            }\n            if (this.devices[macAddress]) {\n                this.devices[macAddress].status0Response = status0Response\n                this.updateDeviceConnector(macAddress, status0Response.StatusNET.IPAddress)\n            }\n            return true\n        }\n        return false\n    }\n\n    clearDiscoveredDevices() {\n        for (let deviceMac in Object.keys(this.discoveredDevices)) {\n            if (this.deviceConnectors[deviceMac]) {\n                this.deviceConnectors[deviceMac].disconnect();\n                delete this.deviceConnectors[deviceMac]\n            }\n        }\n        this.discoveredDevices = {};\n    }\n\n    updateDeviceConnector(macAddress, ipAddress) {\n        if (this.deviceConnectors[macAddress]) {\n            this.deviceConnectors[macAddress].updateIpAddress(ipAddress)\n        }\n    }\n\n    updateDevice(macAddress, updatedInfo) {\n        if (this.devices[macAddress]) {\n            this.devices[macAddress] = { ...this.devices[macAddress], ...updatedInfo }\n            this.saveDevices()\n            this.updateDeviceConnector(macAddress, this.devices[macAddress].status0Response.StatusNET.IPAddress)\n        } else if (this.discoveredDevices[macAddress]) {\n            this.discoveredDevices[macAddress] = { ...this.discoveredDevices[macAddress], ...updatedInfo }\n            this.updateDeviceConnector(macAddress, this.discoveredDevices[macAddress].status0Response.StatusNET.IPAddress)\n        }\n    }\n\n    removeDevice(macAddress) {\n        if (this.devices[macAddress]) {\n            if (this.deviceConnectors[macAddress]) {\n                this.deviceConnectors[macAddress].disconnectAll()\n            }\n            delete this.devices[macAddress]\n            localStorage.setItem('devices', JSON.stringify(this.devices));\n        }\n    }\n\n    getDevice(macAddress) {\n        if (this.devices[macAddress]) {\n            return this.devices[macAddress];\n        } else if (this.discoveredDevices[macAddress]) {\n            return this.discoveredDevices[macAddress]\n        } else {\n            return null\n        }\n    }\n\n    getDevices() {\n        return this.devices;\n    }\n\n    getDiscoveredDevices() {\n        return this.discoveredDevices;\n    }\n\n    isDeviceKnown(macAddress) {\n        return this.devices[macAddress] != null;\n    }\n\n    getDeviceConnector(macAddress, ipAddress) {\n        if (this.deviceConnectors[macAddress]) {\n            return this.deviceConnectors[macAddress];\n        } else {\n            let deviceConnector = new TasmotaDeviceConnector(ipAddress, this.getDevice(macAddress).authInfo);\n            this.deviceConnectors[macAddress] = deviceConnector;\n            return deviceConnector;\n        }\n    }\n}\n\nexport default DeviceManager;","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport { Component } from \"react\";\nimport { Typography, Box } from \"@material-ui/core\";\nimport TasmotaDevice from '../DeviceTypes/TasmotaDevice';\nimport { withStyles, ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nclass DeviceDetails extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            macAddress: \"\",\n        }\n    }\n\n    componentDidMount() {\n        window.gtag('event', 'DeviceDetails');\n        window.gtag('event', 'screen_view', { 'screen_name': 'DeviceDetails'});\n        this.setState({\n            macAddress: this.props.match.params.mac\n        })\n\n    }\n\n    render() {\n        if (this.state.macAddress !== \"\") {\n            return (\n                <Box style={{ overflow: \"visible\", position: \"absolute\" }}>\n                    <TasmotaDevice macAddress={this.state.macAddress} renderType=\"Details\" deviceManager={this.props.deviceManager} />\n                </Box>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default DeviceDetails","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport { Component } from \"react\";\nimport { Typography, Box } from \"@material-ui/core\";\nimport TasmotaDevice from '../DeviceTypes/TasmotaDevice';\n\nclass DeviceDetails extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            macAddress: \"\",\n        }\n    }\n\n    componentDidMount() {\n        window.gtag('event', 'DeviceSettings');\n        window.gtag('event', 'screen_view', { 'screen_name': 'DeviceSettings'});\n        this.setState({\n            macAddress: this.props.match.params.mac\n        })\n\n    }\n\n    render() {\n        if (this.state.macAddress !== \"\") {\n            return (\n                <Box style={{ overflow: \"visible\", position: \"absolute\" }}>\n                    <TasmotaDevice macAddress={this.state.macAddress} renderType=\"Settings\" deviceManager={this.props.deviceManager} />\n                </Box>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default DeviceDetails;","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport { Checkbox, FormControlLabel, Typography } from '@material-ui/core';\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AddIcon from '@material-ui/icons/Add';\nimport CallToActionIcon from '@material-ui/icons/CallToAction';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport InfoIcon from '@material-ui/icons/Info';\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\nimport IPAddress from 'ip-address';\nimport { withSnackbar } from 'notistack';\nimport React from 'react';\nimport superagent from \"superagent\";\nimport DeviceList from '../Components/DeviceList';\nimport DisplayTypeButtons from '../Components/DisplayModeButtons';\n\n\n\nclass FindDevices extends React.Component {\n\n    ipsToScan = [];\n    ipsRequested = [];\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            ipFrom: this.props.appConfig.getAppConfig('ip_scan_from') || \"192.168.10.1\",\n            ipTo: this.props.appConfig.getAppConfig('ip_scan_to') || \"192.168.10.254\",\n            totalAddresses: \"\",\n            numIpsRequested: 0,\n            numIpsCompleted: 0,\n            searching: false,\n            displayMode: \"Table_Status\",\n            username: '',\n            password: '',\n            enableAuth: false,\n            enableCorsAutomatically: true,\n\n        }\n\n    }\n\n    componentDidMount() {\n        window.gtag('event', 'screen_view', { 'screen_name': 'DiscoverDevices'});\n        window.gtag('event', 'DiscoverDevices');\n    }\n\n    componentWillMount() {\n        this.calculateTotalIPs(this.state.ipFrom, this.state.ipTo);\n    }\n\n    componentWillUnmount() {\n        // this.props.deviceManager.clearDiscoveredDevices();\n    }\n\n    handleIPFromChange = event => {\n        this.setState({\n            ipFrom: event.target.value,\n        });\n        let nets = event.target.value.split('.')\n        let to = this.state.ipTo\n        if (nets.length === 4) {\n            to = `${nets[0]}.${nets[1]}.${nets[2]}.254`\n            this.setState({\n                ipTo: to\n            })\n        }\n        this.calculateTotalIPs(event.target.value, to);\n    }\n\n    handleIPToChange = event => {\n        this.setState({\n            ipTo: event.target.value,\n        });\n        this.calculateTotalIPs(this.state.ipFrom, event.target.value);\n    }\n\n    calculateTotalIPs(ipFrom, ipTo) {\n\n        console.log('Calculate IPs From %s : To %s ', ipFrom, ipTo);\n\n        if (ipFrom.split('.').length === 4 && ipTo.split('.').length === 4) {\n\n            let from = new IPAddress.Address4(ipFrom);\n            let to = new IPAddress.Address4(ipTo);\n\n            // console.log('From %O : To %O ', from.bigInteger().toString() , to.bigInteger().toString());\n\n            this.setState({\n                totalAddresses: (to.bigInteger() - from.bigInteger() + 1),\n            })\n\n            console.log('Total Addresses : ' + (to.bigInteger() - from.bigInteger() + 1));\n        }\n    }\n\n    onCommandResponse(args) {\n        console.log(`${args.ip} : Present : ${args.success} Response : %O`, args.response);\n        if (args.success && args.response.body.StatusNET) {\n            this.props.deviceManager.addDiscoveredDevice(args.response.body.StatusNET.Mac, args.response.body);\n            if (this.state.enableAuth) {\n                this.props.deviceManager.updateDevice(args.response.body.StatusNET.Mac,\n                    {\n                        authInfo:\n                        {\n                            username: this.state.username,\n                            password: this.state.password,\n                        }\n                    })\n            }\n            this.setState({})\n            // }\n        } else {\n            if (args.success && args.response.body.WARNING) {\n                if (this.state.enableAuth) {\n                    this.props.enqueueSnackbar(`${args.ip} authentication failed`, { variant: 'error'})\n                } else {\n                    this.props.enqueueSnackbar(`${args.ip} needs authentication`, { variant: 'error'})\n                }\n            }\n        }\n        this.ipsRequested = this.ipsRequested.filter(item => item !== args.ip);\n        this.scanIps()\n    }\n\n    scanIps() {\n        if (this.ipsToScan.length) {\n\n            while (this.ipsRequested.length < 25 && this.ipsToScan.length) {\n                let ip = this.ipsToScan.shift()\n                this.ipsRequested.push(ip);\n                if (this.state.enableCorsAutomatically) {\n                    this.enableCorsAndSendRequest(ip)\n                } else {\n                    this.sendRequest(ip)\n                }\n            }\n\n            this.setState({\n                numIpsCompleted: (this.state.totalAddresses - this.ipsToScan.length) * 100 / this.state.totalAddresses,\n                numIpsRequested: (this.state.totalAddresses - this.ipsToScan.length + this.ipsRequested.length) * 100 / this.state.totalAddresses\n            })\n        } else {\n            if (this.ipsRequested.length === 0) {\n                this.setState({\n                    searching: false,\n                })\n            }\n        }\n    }\n\n    enableCorsAndSendRequest(ip) {\n        let cmnd = `Backlog SetOption73 1; CORS ${window.location.protocol}//${window.location.hostname}`\n\n        if (window.location.port && window.location.port !== \"\") {\n            cmnd += `:${window.location.port}`\n        }\n\n        let url = 'http://' + ip + '/cm?cmnd=' + encodeURIComponent(cmnd).replace(\";\", \"%3B\");\n\n        console.log(\"Enabling CORS for with \" + url)\n\n        superagent.get(url)\n            .timeout({\n                response: 5000,  // Wait 5 seconds for the server to start sending,\n                deadline: 6000, // but allow 6 seconds for the file to finish loading.\n            }).end(function (err, res) {\n                setTimeout(this.obj.sendRequest.bind(this.obj, this.ip), 1000);\n            }.bind({obj: this, ip: ip}));\n    }\n\n    sendRequest(ip) {\n        var callback = function (err, response) {\n            this.onCommandResponse({ key: this.cmnd, response: response, error: err, ip: this.ip, url: this.url, success: err ? false : true });\n        }\n\n        let cmnd = \"Status 0\"\n        // let ip = IPAddress.Address4.fromBigInteger(ipNum).correctForm();\n        let url = 'http://' + ip + '/cm?cmnd=' + encodeURIComponent(cmnd);\n\n        if (this.state.enableAuth) {\n            url += `&user=${encodeURIComponent(this.state.username)}&password=${encodeURIComponent(this.state.password)}`\n        }\n\n        superagent.get(url)\n            .timeout({\n                response: 5000,  // Wait 5 seconds for the server to start sending,\n                deadline: 60000, // but allow 1 minute for the file to finish loading.\n            })\n            .end(callback.bind({ onCommandResponse: this.onCommandResponse.bind(this), ip: ip, url: url, cmnd: cmnd, success: true }))\n\n    }\n\n    handleFindClicked() {\n\n        window.gtag('event', 'StartDiscovery');\n\n        let from = new IPAddress.Address4(this.state.ipFrom).bigInteger();\n        let to = new IPAddress.Address4(this.state.ipTo).bigInteger();\n\n        this.props.appConfig.putAppConfig('ip_scan_from', this.state.ipFrom)\n        this.props.appConfig.putAppConfig('ip_scan_to', this.state.ipTo)\n\n        for (let ipNum = from; ipNum <= to; ipNum++) {\n            this.ipsToScan.push(IPAddress.Address4.fromBigInteger(ipNum).correctForm());\n        }\n        this.setState({\n            searching: true,\n        })\n        this.scanIps();\n    }\n\n    handleStopClicked() {\n        window.gtag('event', 'StopDiscovery');\n        this.ipsToScan = [];\n        this.scanIps();\n    }\n\n    openDeviceDetails = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/details/' + macAddress);\n    }\n\n    addDevice = (macAddress, event) => {\n        window.gtag('event', 'AddDevice');\n        console.log('Add Device ' + macAddress)\n        event.stopPropagation();\n        this.props.deviceManager.addDevice(macAddress, this.props.deviceManager.getDiscoveredDevices()[macAddress]);\n        this.setState({})\n    }\n\n    deleteDevice = (macAddress, event) => {\n        window.gtag('event', 'DeleteDevice');\n        console.log('Delete Device ' + macAddress)\n        event.stopPropagation();\n        this.props.deviceManager.removeDevice(macAddress);\n        this.setState({})\n    }\n\n    openDeviceSettings = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/settings/' + macAddress);\n    }\n\n    openDeviceConsole = (macAddress, event) => {\n        event.stopPropagation();\n        this.props.history.push('/console/' + macAddress);\n    }\n\n    openWebUI  = (macAddress, event) => {\n        window.gtag('event', 'OpenWebUI');\n        event.stopPropagation();\n        let ip = this.props.deviceManager.getDevice(macAddress).status0Response.StatusNET.IPAddress\n        window.open(`http://${ip}`)\n    }\n\n    commonButtons = [{\n        toolTip: \"Details\",\n        label: \"details\",\n        icon: <InfoIcon />,\n        onButtonClick: (mac, event) => this.openDeviceDetails(mac, event),\n    }, {\n        toolTip: \"Settings\",\n        label: \"settings\",\n        icon: <SettingsApplicationsIcon />,\n        onButtonClick: (mac, event) => this.openDeviceSettings(mac, event),\n    }, {\n        toolTip: \"Console\",\n        label: \"console\",\n        icon: <CallToActionIcon />,\n        onButtonClick: (mac, event) => this.openDeviceConsole(mac, event),\n    }, {\n        toolTip: \"WebUI\",\n        label: \"webui\",\n        icon: <OpenInBrowserIcon />,\n        onButtonClick: (mac, event) => this.openWebUI(mac, event),\n    }]\n\n    knownDeviceButtons = [...this.commonButtons, {\n        toolTip: \"Delete\",\n        label: \"delete\",\n        icon: <DeleteIcon />,\n        onButtonClick: (mac, event) => this.deleteDevice(mac, event),\n    }]\n\n    newDeviceButtons = [...this.commonButtons, {\n        toolTip: \"Add\",\n        label: \"add\",\n        icon: <AddIcon />,\n        onButtonClick: (mac, event) => this.addDevice(mac, event),\n    }]\n\n    onAuthEnableChanged(event) {\n        event.stopPropagation()\n        this.setState({ enableAuth: event.target.checked })\n    }\n\n    onEnableCorsAutomaticallyChanged(event) {\n        event.stopPropagation()\n        this.setState({ enableCorsAutomatically: event.target.checked })\n    }\n\n    render() {\n\n        let discoveredDevices = this.props.deviceManager.getDiscoveredDevices()\n        let discoveredDevicesMacs = Object.keys(discoveredDevices)\n\n        let newDevices = discoveredDevicesMacs.filter((mac) => {\n            return !this.props.deviceManager.isDeviceKnown(mac)\n        }).reduce((obj, key) => {\n            obj[key] = discoveredDevices[key];\n            return obj;\n        }, {});\n\n\n        let knownDevices = discoveredDevicesMacs.filter((mac) => {\n            return this.props.deviceManager.isDeviceKnown(mac)\n        }).reduce((obj, key) => {\n            obj[key] = discoveredDevices[key];\n            return obj;\n        }, {});\n\n\n        return (\n            <Box display=\"flex\" flexGrow={1} flexDirection=\"column\" style={{ overflow: \"visible\", position: \"absolute\" }}>\n                <Box display=\"flex\" alignItems=\"center\" flexDirection=\"row\">\n                    <h1>Discover Active Devices</h1>\n                    <DisplayTypeButtons displayMode={this.state.displayMode} setState={(state) => this.setState(state)} />\n                </Box>\n                <Box display=\"flex\" alignItems=\"baseline\" flexDirection=\"row\">\n                    <TextField\n                        id=\"outlined-name\"\n                        label=\"Start IP Address\"\n                        placeholder=\"IP\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={this.state.ipFrom}\n                        disabled={this.state.searching ? 1 : 0}\n                        onChange={this.handleIPFromChange}\n                    />\n                    <TextField\n                        id=\"outlined-name\"\n                        label=\"End IP Address\"\n                        placeholder=\"IP\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={this.state.ipTo}\n                        disabled={this.state.searching ? 1 : 0}\n                        onChange={this.handleIPToChange}\n                    />\n                    {!this.state.searching ?\n                        <Button variant=\"contained\" margin=\"normal\" onClick={() => this.handleFindClicked()}>Start Discovery</Button>\n                        : <Button variant=\"contained\" margin=\"normal\" onClick={() => this.handleStopClicked()} >Stop Discovery</Button>\n                    }\n                </Box>\n                <Typography>\n                    IPs to scan : {this.state.totalAddresses}\n                </Typography>\n                <Box display=\"flex\" alignItems=\"baseline\" flexDirection=\"row\">\n                    <FormControlLabel\n                        value=\"end\"\n                        control={<Checkbox\n                            disabled={this.state.searching ? 1 : 0}\n                            color=\"primary\"\n                            checked={this.state.enableCorsAutomatically}\n                            onChange={(event) => this.onEnableCorsAutomaticallyChanged(event)}\n                        />}\n                        label=\"Enable CORS for TasUI\"\n                        labelPlacement=\"end\"\n                    />\n                </Box>\n                <Box display=\"flex\" alignItems=\"baseline\" flexDirection=\"row\">\n                    <FormControlLabel\n                        value=\"end\"\n                        control={<Checkbox\n                            disabled={this.state.searching ? 1 : 0}\n                            color=\"primary\"\n                            checked={this.state.enableAuth}\n                            onChange={(event) => this.onAuthEnableChanged(event)}\n                        />}\n                        label=\"Use Authentication\"\n                        labelPlacement=\"end\"\n                    />\n                    <TextField\n                        id=\"outlined-name\"\n                        label=\"Username\"\n                        placeholder=\"Username\"\n                        disabled={this.state.enableAuth && !this.state.searching ? 0 : 1}\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        value={this.state.username}\n                        onChange={(event) => this.setState({ username: event.target.value })}\n                    />\n                    <TextField\n                        id=\"outlined-name\"\n                        label=\"Password\"\n                        placeholder=\"Password\"\n                        type=\"password\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        disabled={this.state.enableAuth && !this.state.searching ? 0 : 1}\n                        value={this.state.password}\n                        onChange={(event) => this.setState({ password: event.target.value })}\n                    />\n                </Box>\n                {this.state.searching ?\n                    <LinearProgress variant=\"buffer\" value={this.state.numIpsCompleted} valueBuffer={this.state.numIpsRequested} />\n                    : null}\n\n\n                {/* <h3>New Devices</h3> */}\n                <DeviceList\n                    key=\"newDevices\"\n                    displayMode={this.state.displayMode}\n                    deviceSections={{\n                        \"New Devices\": { devices: newDevices, itemButtons: this.newDeviceButtons },\n                        \"Saved Devices\": { devices: knownDevices, itemButtons: this.knownDeviceButtons }\n                    }}\n                    deviceManager={this.props.deviceManager}\n                />\n\n            </Box>\n        )\n\n    }\n\n}\n\n\n\nexport default withSnackbar(FindDevices)","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react'\nimport { withStyles, ThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Terminal from 'react-console-emulator'\nimport { Box, Container, FormControlLabel, Checkbox } from '@material-ui/core'\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport superagent from 'superagent';\nimport ActionButton from '../Components/ActionButton';\nimport HelpIcon from '@material-ui/icons/Help';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst styles = theme => ({\n    terminal: {\n        flexGrow: 1,\n        flexBasis: \"0\",\n        flexShrink: 1,\n        height: \"80vh\",\n        overflow: \"hidden\",\n    },\n})\n\nclass Console extends React.Component {\n\n    commands = {}\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            deviceName: '',\n            webLogEnabled: false,\n            weblogLevel: 2,\n        }\n        this.terminal = React.createRef()\n        this.deviceManager = this.props.deviceManager\n        this.commandFired = null\n    }\n\n    onCommandResponse(cmnd, success, response) {\n        console.log(`onCommandResponse ${cmnd} === ${this.commandFired}`)\n        if (cmnd === this.commandFired) {\n            this.commandFired = null\n            if (success) {\n                this.addLog(JSON.stringify(response))\n            } else {\n                this.addLog(`${cmnd} Failed`)\n            }\n        }\n\n        if (cmnd.toLowerCase().startsWith('weblog ') && success) {\n            if (response.WebLog) {\n                this.setState({ weblogLevel: response.WebLog })\n            } else {\n                this.setState({ weblogLevel: 1 })\n            }\n        }\n    }\n\n    sendConsoleCommand(cmnd) {\n        this.terminal.current.terminalInput.current.value = cmnd\n        this.terminal.current.processCommand()\n    }\n\n    addLog(line) {\n        let rootNode = this.terminal.current.terminalRoot.current;\n        let scrolledUp = rootNode.scrollTop < rootNode.scrollHeight - rootNode.clientHeight\n\n        this.terminal.current.pushToStdout(line)\n        if (!scrolledUp) {\n            this.terminal.current.scrollToBottom()\n        }\n    }\n\n    onWebLogLevelChanged(event) {\n        event.stopPropagation()\n        this.fireCommand('WebLog ' + event.target.value)\n    }\n\n    onWegLogEnableChanged(event) {\n        this.setState({ webLogEnabled: event.target.checked })\n        if (event.target.checked) {\n            this.startWebLog()\n        } else {\n            this.stopWebLog()\n        }\n    }\n\n    requestLog() {\n        var callback = function (err, response) {\n            // console.log (\"Error : %O Response : %O\", err, response);\n            if (response) {\n                this.nextCommanNumber = response.text.substring(0, response.text.indexOf('}'));\n                let index = response.text.indexOf(':');\n                if (index > 0) {\n                    let data = response.text.substring(index + 1)\n                    data = data.substring(0, data.lastIndexOf('}1'))\n                    let lines = data.split('\\n')\n                    for (let line of lines) {\n                        this.addLog(line)\n                    }\n                }\n            }\n        }\n        let url = 'http://' + this.deviceIPAddress + '/cs?c2=' + this.nextCommanNumber;\n\n        if (this.deviceInfo.authInfo) {\n            url += `&user=${encodeURI(this.deviceInfo.authInfo.username)}&password=${encodeURI(this.deviceInfo.authInfo.password)}`\n        }\n\n        superagent.get(url)\n            .timeout({\n                response: 1000,  // Wait 5 seconds for the server to start sending,\n                deadline: 3000, // but allow 1 minute for the file to finish loading.\n            })\n            .end(callback.bind(this))\n    }\n\n    fireCommand(command, args) {\n        this.commandFired = `${command} ${args}`\n        console.log(`FireCommand ${this.commandFired}`)\n        this.deviceConnector.performCommandOnDeviceDirect(this.commandFired)\n    }\n\n    generateCommands() {\n        for (let [commandCatagory, commands] of Object.entries(this.deviceConfig.commands)) {\n            for (let [commandName, command] of Object.entries(commands)) {\n                this.commands[commandName.toLowerCase()] = {\n                    description: ' ', //command.description,\n                    usage: `${commandName} ${command.options.length > 0 ? ` <value>` : ''}`,\n                    fn: (args) => this.fireCommand(commandName, args ? args : '')\n                }\n            }\n        }\n    }\n\n    componentWillMount() {\n        this.macAddress = this.props.match.params.mac\n        this.deviceInfo = this.deviceManager.getDevice(this.macAddress)\n        this.deviceIPAddress = this.deviceInfo.status0Response.StatusNET.IPAddress\n        this.deviceConfig = this.props.deviceManager.getTasmotaConfig(this.macAddress)\n        this.generateCommands()\n        if (!this.deviceConnector) {\n            this.deviceConnector = this.props.deviceManager.getDeviceConnector(this.macAddress, this.deviceInfo.status0Response.StatusNET.IPAddress);\n        }\n        this.deviceConnector.connect(this);\n        this.setState({ deviceName: this.deviceInfo.status0Response.Status.FriendlyName[0] })\n        this.nextCommanNumber = 0\n        if (this.state.webLogEnabled) {\n            this.startWebLog()\n        }\n    }\n\n    componentDidMount() {\n        window.gtag('event', 'Console');\n        window.gtag('event', 'screen_view', { 'screen_name': 'Console'});\n        this.fireCommand('Weblog')\n    }\n\n    startWebLog() {\n        this.stopWebLog()\n        this.timer = setInterval(this.requestLog.bind(this), 3000);\n        this.requestLog()\n    }\n\n    stopWebLog() {\n        if (this.timer) {\n            clearInterval(this.timer);\n            this.timer = null\n        }\n    }\n\n    componentWillUnmount() {\n        this.stopWebLog()\n        this.deviceConnector.disconnect(this);\n    }\n\n    toCamelCase(string) {\n        return string.replace(/^([A-Z])|\\s(\\w)/g, function (match, p1, p2, offset) {\n            if (p2) return p2.toUpperCase();\n            return p1.toLowerCase();\n        });\n    }\n\n    render() {\n        const { classes } = this.props\n\n        return (\n            <Box>\n                <Box flexGrow={1}>\n                    <FormControlLabel\n                        value=\"end\"\n                        control={<Checkbox\n                            color=\"primary\"\n                            checked={this.state.weblogEnabled}\n                            onChange={(event) => this.onWegLogEnableChanged(event)}\n                        />}\n                        label=\"Fetch Weblog\"\n                        labelPlacement=\"end\"\n                    />\n\n                    <ActionButton\n                        toolTip=\"Clear Console\"\n                        label=\"clear\"\n                        icon={<ClearIcon />}\n                        onButtonClick={() => this.terminal.current.clearStdout()}\n                    />\n\n                    <ActionButton\n                        toolTip=\"Show help\"\n                        label=\"help\"\n                        icon={<HelpIcon />}\n                        onButtonClick={() => this.sendConsoleCommand('help')}\n                    />\n\n                    <FormControl>\n                        <InputLabel id=\"weblog-select-label\">\n                            Weblog Level\n                        </InputLabel>\n                        <Select\n                            labelId=\"weblog-select-label\"\n                            id=\"weblog-select\"\n                            value={this.state.weblogLevel}\n                            onChange={(event) => this.onWebLogLevelChanged(event)}\n                        // labelWidth={labelWidth}\n                        >\n                            <MenuItem value={1}>Error Messages</MenuItem>\n                            <MenuItem value={2}>Error and Info</MenuItem>\n                            <MenuItem value={3}>Error, Info and Debug</MenuItem>\n                            <MenuItem value={4}>Error, Info and More Debug</MenuItem>\n                        </Select>\n                    </FormControl>\n\n                </Box>\n                <Terminal\n                    className={classes.terminal}\n                    ref={this.terminal}\n                    commands={this.commands}\n                    welcomeMessage={'Console to ' + this.state.deviceName + '. Type help to see all commands. All commands are lowercase only'}\n                    promptLabel={`${this.toCamelCase(this.state.deviceName)}>`}\n                />\n            </Box>\n        )\n\n    }\n}\n\nexport default withStyles(styles)(Console)","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\nclass AppConfig {\n\n\n    constructor() {\n        this.appConfig = \"appConfig\" in localStorage ? JSON.parse(localStorage.getItem('appConfig')) : {};\n        this.appSessionConfig = \"appSessionConfig\" in sessionStorage ? JSON.parse(localStorage.getItem('appConfigSession')) : {};\n    }\n\n    saveSessionConfig() {\n        sessionStorage.setItem('appSessionConfig', JSON.stringify(this.appSessionConfig));\n    }\n\n    saveAppConfig() {\n        localStorage.setItem('appConfig', JSON.stringify(this.appConfig));\n    }\n\n    putSessionConfig(key, value) {\n        this.appSessionConfig[key] = value\n        this.saveSessionConfig()\n    }\n\n    putAppConfig(key, value) {\n        this.appConfig[key] = value\n        this.saveAppConfig()\n    }\n\n    getSessionConfig(key) {\n        return this.appSessionConfig[key]\n    }\n\n    getAppConfig(key) {\n        return this.appConfig[key]\n    }\n}\n\nexport default AppConfig","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport InfoIcon from '@material-ui/icons/Info';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { Route, Link, Switch, HashRouter as Router, Redirect } from 'react-router-dom';\n\nimport Devices from './Screens/Devices';\nimport DeviceManager from './DeviceManagement/DeviceManager';\nimport DeviceDetails from './Screens/DeviceDetails';\nimport DeviceSettings from './Screens/DeviceSettings';\nimport FindDevices from './Screens/FindDevices';\nimport Console from './Screens/Console'\nimport AppConfig from './Configuration/AppConfig'\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexBasis: \"100%\",\n    flexGrow: 0,\n    flexShrink: 1,\n    height: \"100vh\",\n    overflow: \"hidden\",\n  },\n  appBar: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  title: {\n    color: theme.palette.text.secondary,\n    marginBottom: theme.spacing(0.5),\n    '&:hover': {\n      color: theme.palette.primary.main,\n    },\n  },\n  toolbar: {\n    ...theme.mixins.toolbar,\n    paddingLeft: theme.spacing(3),\n    display: 'flex',\n    // flexGrow: 1,\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n  },\n  content: {\n    flexBasis: \"100%\",\n    flexGrow: 1,\n    flexShrink: 1,\n    height: \"100vh\",\n    justifyContent: \"center\",\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3),\n    overflow: \"hidden\",\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n});\n\nconst deviceGroups = [\n  {\n  //   name: 'All',\n  //   link: '/devices/all',\n  //   icon: <BorderAllIcon/>,\n  // }, {\n  //   name: 'Favourites',\n  //   link: '/devices/favs',\n  //   icon: <FavoriteIcon/>,\n  }  \n]\n\nconst mainMenuItems = [\n  {\n    name: 'Devices',\n    link: '/devices',\n    icon: <DeveloperBoardIcon/>,\n    // children: deviceGroups,\n  }, {\n    name: 'Discover Devices',\n    link: '/findDevices',\n    icon: <SearchIcon/>,\n  // }, {\n  //   name: 'About',\n  //   link: '/about',\n  //   icon: <InfoIcon/>,\n  }\n]\n\nconst deviceManager = new DeviceManager();\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.appConfig = new AppConfig()\n  }\n\n  renderChildItems(item) {\n    const { classes } = this.props;\n\n    if (item.children && item.children.length > 0) {\n      return item.children.map((child, index) => {\n        return(\n          <Link to={child.link}>\n            <ListItem button key={child.name} className={classes.nested}>\n              <ListItemIcon>{child.icon}</ListItemIcon>\n              <ListItemText primary={child.name} />\n            </ListItem>  \n          </Link>\n        )\n      })\n    } \n  }\n\n\n  render() {\n    const { classes } = this.props;\n\n    const listItems = mainMenuItems.map((item, index) => {\n      return (\n        <div>\n        <Link to={item.link} key={item.link} >\n          <ListItem button key={item.name}>\n            <ListItemIcon>{item.icon}</ListItemIcon>\n            <ListItemText primary={item.name} />\n          </ListItem>\n        </Link>\n\n        {this.renderChildItems(item)}\n        <Divider />\n        </div>\n      )\n    });\n\n\n    return (\n      <div className={classes.root}>\n        <Router>\n        <CssBaseline />\n        <AppBar position=\"fixed\" className={classes.appBar}>\n          <Toolbar>\n            <Typography variant=\"h6\" noWrap>\n              TasUI\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant=\"permanent\"\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          anchor=\"left\"\n        >\n          <div className={classes.toolbar} >\n            <Typography variant=\"h6\" noWrap className={classes.title}>\n                TasUI\n            </Typography>\n            <Link variant=\"subtitle2\" noWrap onClick={() => window.open(`https://github.com/IOTReboot/TasUI/tree/${process.env.REACT_APP_GIT_SHA}`)}>\n              {process.env.REACT_APP_VERSION} {process.env.REACT_APP_GIT_BRANCH} ({process.env.REACT_APP_GIT_SHA})\n            </Link>\n          </div>\n          <Divider />\n          <List>\n            {listItems}\n          </List>\n        </Drawer>\n          <main className={classes.content}>\n            <div className={classes.toolbar} />\n              <div>\n            <Switch className={classes.content}>\n              <Route exact path=\"/findDevices\" render={(props) => <FindDevices {...props} deviceManager={deviceManager} appConfig={this.appConfig} />} />\n              <Route exact path=\"/devices\" render={(props) => <Devices {...props} deviceManager={deviceManager} appConfig={this.appConfig} />} />\n              <Route path=\"/details/:mac\" render={(props) => <DeviceDetails {...props} deviceManager={deviceManager} appConfig={this.appConfig} />} />\n              <Route path=\"/settings/:mac\" render={(props) => <DeviceSettings {...props} deviceManager={deviceManager} appConfig={this.appConfig} />} />\n              <Route path=\"/console/:mac\" render={(props) => <Console {...props} deviceManager={deviceManager} appConfig={this.appConfig} />} />\n              <Redirect to=\"/devices\" />\n            </Switch>\n            </div>\n          </main>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(App)","/*\n\n  Copyright (C) 2019  Shantur Rathore\n  \n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport { SnackbarProvider } from 'notistack';\n\n\nReactDOM.render(\n\n  <SnackbarProvider maxSnack={5}>\n    <App />\n  </SnackbarProvider>,\n  document.getElementById('root')\n\n);\n"],"sourceRoot":""}